{"version":3,"sources":["app.js"],"names":["window","document","undefined","angular","module","config","$urlRouterProvider","localStorageServiceProvider","otherwise","setPrefix","run","localStorageService","articles","$rootScope","$log","getAllArticles","then","response","$emit","set","error","data","get","toastr","warning","controller","$scope","$http","$state","remove","$on","event","toState","toParams","currentStateName","name","currentStateParams","countCartItems","getUserData","getAllGenres","genres","logout","success","go","user","userName","userRole","role","cart","quantity","forEach","item","directive","restrict","link","scope","element","attrs","bind","isImage","$apply","$stateProvider","state","url","templateUrl","validatePrice","input","test","selected","platform","fsk","isTouched","isPriceInvalid","isPriceTouched","isCustomGenre","genreButtonText","changeInputStyle","priceValidation","price","addArticle","title","genre","customGenre","wiiu","windows","ps","xbox","osx","release","language","minRam","minProcessor","description","$stateParams","$uibModal","tab","active","calculateAverageStars","count","stars","changeTab","type","id","actualGame","reviews","getElementById","innerHTML","toCart","parseInt","itemId","starsActivator","numbers","i","starHover","number","leave","rate","newReviewId","message","review","author","modalInstance","open","animation","resolve","result","console","log","updateTotalPrice","totalPrice","article","newObject","quantityChange","isArticles","isFormTouched","toCheckout","info","password","$","keydown","keyCode","click","login","factory","$q","service","q","defer","mapped","_mapArticles","reject","promise","this","mappedItems","isNewGenre","push","mappedItem","platforms","image","_mapReviews","date","Date","orders","$uibModalInstance","checkValid","isValid","submit","close","cancel","dismiss","email","passwordConfirm","register","username"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(window, document, undefined) {\n'use strict';\nangular.module('app', [\r\n    'ui.router',\r\n    'ui.bootstrap',\r\n    'LocalStorageModule',\r\n    'ngAnimate',\r\n    'templates',\r\n    'textAngular',\r\n    // 'ngSanitize',\r\n    'app.home',\r\n    'app.addArticle',\r\n    'app.topGames',\r\n    'app.newGames',\r\n    'app.gameDetail',\r\n    'app.login',\r\n    'app.genre',\r\n    'app.cart',\r\n    'app.checkout',\r\n    'app.orders',\r\n    'app.register',\r\n    'app.passwordForget'\r\n])\r\n    .config([\"$urlRouterProvider\", \"localStorageServiceProvider\", function ($urlRouterProvider, localStorageServiceProvider) {\r\n        $urlRouterProvider.otherwise('/home');\r\n        localStorageServiceProvider.setPrefix('webshop');\r\n    }])\r\n    .run([\"localStorageService\", \"articles\", \"$rootScope\", \"$log\", function (localStorageService, articles, $rootScope, $log) {\r\n        articles.getAllArticles()\r\n            .then(function (response) {\r\n                $rootScope.$emit('genresLoaded');\r\n                localStorageService.set('articles', response);\r\n            }, function (error) {\r\n                var data = localStorageService.get('articles');\r\n                if (data) {\r\n                    toastr.warning('Artikel konnten nicht neu geladen werden. Daten sind möglicherweise veraltet.')\r\n                } else {\r\n                    toastr.error('Artikel konnten nicht geladen werden.');\r\n                }\r\n                $log.error(error);\r\n            });\r\n        localStorageService.set('fromCheckout', false);\r\n    }])\r\n    .controller('AppCtrl', [\"$scope\", \"$rootScope\", \"$http\", \"localStorageService\", \"$state\", \"articles\", \"$log\", function ($scope, $rootScope, $http, localStorageService, $state, articles, $log) {\r\n        localStorageService.remove('checkout');\r\n        $rootScope.$on('$stateChangeSuccess',\r\n            function (event, toState, toParams) {\r\n                $scope.currentStateName = toState.name;\r\n                $scope.currentStateParams = toParams.name;\r\n            });\r\n\r\n        $rootScope.$on('itemAddedToCart', function () {\r\n            countCartItems();\r\n        });\r\n\r\n        $rootScope.$on('login', function () {\r\n            getUserData();\r\n        });\r\n        \r\n        $rootScope.$on('genresLoaded', function () {\r\n             articles.getAllGenres()\r\n                 .then(function (response) {\r\n                     $scope.genres = response;\r\n                 }, function (error) {\r\n                     $log.error(error);\r\n                 })\r\n        });\r\n\r\n        $scope.logout = function () {\r\n            localStorageService.remove('user');\r\n            localStorageService.remove('orders');\r\n            localStorageService.remove('checkout');\r\n            // update user data\r\n            $rootScope.$emit('login');\r\n            $rootScope.$emit('itemAddedToCart');\r\n            toastr.success('Logout war erfolgreich.');\r\n            $state.go('login');\r\n        };\r\n\r\n        var getUserData = function () {\r\n            var user = localStorageService.get('user') || {};\r\n            $scope.userName = user.userName || 'Benutzer';\r\n            $scope.userRole = user.role;\r\n        };\r\n        getUserData();\r\n\r\n        var countCartItems = function () {\r\n            var cart = localStorageService.get('cart');\r\n            $scope.quantity = 0;\r\n            angular.forEach(cart, function (item) {\r\n                $scope.quantity += item.quantity;\r\n            });\r\n        };\r\n        countCartItems();\r\n    }])\r\n    .directive('imageonload', function() {\r\n        return {\r\n            restrict: 'A',\r\n            link: function(scope, element, attrs) {\r\n                element.bind('load', function() {\r\n                    scope.isImage = true;\r\n                    scope.$apply();\r\n                });\r\n                element.bind('error', function(){\r\n                    scope.isImage = false;\r\n                    scope.$apply();\r\n                });\r\n            }\r\n        };\r\n    });\n\r\nangular.module('app.addArticle', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('addArticle', {\r\n            url: '/addArticle',\r\n            templateUrl: 'app/addArticle/addArticle.html',\r\n            controller: 'AddArticleCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('AddArticleCtrl', [\"$scope\", \"articles\", \"$log\", function ($scope, articles, $log) {\r\n        $scope.selected = {};\r\n        $scope.selected.platform = {};\r\n        $scope.selected.fsk = '0';\r\n        $scope.isTouched = false;\r\n        $scope.isPriceInvalid = false;\r\n        $scope.isPriceTouched = false;\r\n        $scope.isCustomGenre = false;\r\n        $scope.genreButtonText = 'Neues Genre anlegen';\r\n\r\n        articles.getAllGenres()\r\n            .then(function (response) {\r\n                $scope.genres = response;\r\n            }, function (error) {\r\n                $log.error(error);\r\n            });\r\n\r\n        function validatePrice(input) {\r\n            return /(?=.)^\\$?(([1-9][0-9]{0,2}(,[0-9]{3})*)|[0-9]+)?(\\.[0-9]{1,2})?$/.test(input);\r\n        }\r\n\r\n        $scope.changeInputStyle = function () {\r\n            $scope.isCustomGenre ? $scope.isCustomGenre = false : $scope.isCustomGenre = true;\r\n            $scope.genreButtonText == 'Neues Genre anlegen' ? $scope.genreButtonText = 'Vorhandenes Genre auswählen' : $scope.genreButtonText = 'Neues Genre anlegen';\r\n        };\r\n\r\n        $scope.priceValidation = function () {\r\n            $scope.isPriceTouched = true;\r\n            !validatePrice($scope.price) ? $scope.isPriceInvalid = true : $scope.isPriceInvalid = false;\r\n        };\r\n\r\n        $scope.addArticle = function () {\r\n            $scope.isTouched = true;\r\n            $scope.isPriceTouched = true;\r\n            $scope.isPriceInvalid = false;\r\n            if ($scope.title && ((!selected.genre && !isCustomGenre) || (isCustomGenre && !customGenre)) && $scope.price && ($scope.selected.platform.wiiu ||\r\n                $scope.selected.platform.windows || $scope.selected.platform.ps || $scope.selected.platform.xbox ||\r\n                $scope.selected.platform.osx) && $scope.release && $scope.language && $scope.minRam &&\r\n                $scope.minProcessor && $scope.description) {\r\n                if (!validatePrice($scope.price)) {\r\n                    toastr.warning('Ungültiger Preis!');\r\n                    $scope.isPriceInvalid = true;\r\n                } else {\r\n                    toastr.success('Top');\r\n                }\r\n            } else {\r\n                toastr.warning('Fehlende Informationen!');\r\n            }\r\n        }\r\n    }]);\n\r\nangular.module('app.gameDetail', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('gameDetail', {\r\n            url: '/gameDetail/:id',\r\n            templateUrl: 'app/gameDetail/gameDetail.html',\r\n            controller: 'GameDetailCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('GameDetailCtrl', [\"$scope\", \"$http\", \"$stateParams\", \"localStorageService\", \"$rootScope\", \"$uibModal\", function ($scope, $http, $stateParams, localStorageService, $rootScope, $uibModal) {\r\n        $scope.tab = {};\r\n        $scope.tab.active = 'description';\r\n        $scope.quantity = 1;\r\n\r\n        var user = localStorageService.get('user') || {};\r\n        var userName = user.userName;\r\n\r\n        var calculateAverageStars = function (data) {\r\n            var count = 0;\r\n            var stars = 0;\r\n            angular.forEach(data, function (item) {\r\n                count++;\r\n                stars += item.stars;\r\n            });\r\n            return stars / count;\r\n        };\r\n\r\n        $scope.changeTab = function (type) {\r\n            $scope.tab.active = type;\r\n        };\r\n\r\n        var id = $stateParams.id;\r\n        $scope.articles = localStorageService.get('articles');\r\n        $scope.actualGame = $scope.articles[id];\r\n\r\n        $scope.stars = calculateAverageStars($scope.actualGame.reviews);\r\n        document.getElementById(\"description\").innerHTML = $scope.actualGame.description;\r\n\r\n        $scope.toCart = function () {\r\n            if ($scope.quantity >= 1) {\r\n                var cart = localStorageService.get('cart') || {};\r\n                if (cart[$scope.actualGame.id] && cart[$scope.actualGame.id].quantity) {\r\n                    cart[$scope.actualGame.id].quantity = parseInt(cart[$scope.actualGame.id].quantity) + parseInt($scope.quantity)\r\n                } else {\r\n                    cart[$scope.actualGame.id] = {\r\n                        itemId: $scope.actualGame.id,\r\n                        quantity: parseInt($scope.quantity)\r\n                    };\r\n                }\r\n                localStorageService.set('cart', cart);\r\n                $rootScope.$emit('itemAddedToCart');\r\n                toastr.success('Artikel erfolgreich ' + $scope.quantity + 'x in den Warenkorb gelegt!');\r\n                toastr.success('<img src=\"assets/img/giphy.gif\" ng-show=\"inCart\"/>');\r\n                $scope.quantity = 1;\r\n            } else {\r\n                toastr.warning('Bitte geben Sie eine gültige Zahl ein!')\r\n            }\r\n        };\r\n\r\n        $scope.starsActivator = {};\r\n        $scope.numbers = [1, 2, 3, 4, 5];\r\n        for (var i = 0; i <= 4; i++) {\r\n            $scope.starsActivator[$scope.numbers[i]] = false;\r\n        }\r\n\r\n        $scope.starHover = function (number) {\r\n            while (number > 0) {\r\n                $scope.starsActivator[number] = true;\r\n                number--;\r\n            }\r\n        };\r\n\r\n        $scope.leave = function () {\r\n            for (var i = 0; i <= 4; i++) {\r\n                $scope.starsActivator[$scope.numbers[i]] = false;\r\n            }\r\n        };\r\n\r\n        $scope.rate = function (stars) {\r\n            if (userName) {\r\n                var newReviewId = 1;\r\n                do {\r\n                    newReviewId++;\r\n                } while ($scope.actualGame.reviews[newReviewId]);\r\n                var title = '';\r\n                var message = '';\r\n                angular.forEach($scope.actualGame.reviews, function (review) {\r\n                    if (review.author == user) {\r\n                        title = review.title;\r\n                        message = review.message;\r\n                        newReviewId = review.id;\r\n                    }\r\n                });\r\n                var modalInstance = $uibModal.open({\r\n                    animation: true,\r\n                    templateUrl: 'app/gameDetail/rating/rating.html',\r\n                    controller: 'RatingCtrl',\r\n                    resolve: {\r\n                        stars: function () {\r\n                            return stars;\r\n                        },\r\n                        title: function () {\r\n                            return title;\r\n                        },\r\n                        message: function () {\r\n                            return message;\r\n                        }\r\n                    }\r\n                });\r\n\r\n                modalInstance.result.then(function (result) {\r\n                    $scope.actualGame.reviews[newReviewId] = {\r\n                        id: newReviewId,\r\n                        stars: result.stars,\r\n                        title: result.title,\r\n                        message: result.message,\r\n                        author: userName\r\n                    };\r\n                    $scope.articles[id].reviews = $scope.actualGame.reviews;\r\n                    localStorageService.set('articles', $scope.articles);\r\n                    $scope.stars = calculateAverageStars($scope.actualGame.reviews);\r\n                    toastr.success('Bewertung hinzugefügt!');\r\n                }, function () {\r\n                    console.log('Modal dismissed');\r\n                });\r\n            } else {\r\n                toastr.warning('Bitte loggen Sie sich zuerst ein!');\r\n            }\r\n        };\r\n    }]);\n\r\nangular.module('app.cart', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('cart', {\r\n            url: '/cart',\r\n            templateUrl: 'app/cart/cart.html',\r\n            controller: 'CartCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('CartCtrl', [\"localStorageService\", \"$scope\", \"$rootScope\", function (localStorageService, $scope, $rootScope) {\r\n        // cart only\r\n        var cart = localStorageService.get('cart');\r\n        // articles only\r\n        var articles = localStorageService.get('articles');\r\n        // cart and articles merged\r\n        $scope.cart = {};\r\n\r\n        $scope.updateTotalPrice = function () {\r\n            $scope.totalPrice = 0;\r\n            angular.forEach($scope.cart, function (item) {\r\n                $scope.totalPrice += item.quantity * item.price;\r\n            });\r\n        };\r\n\r\n        // merge cart and articles\r\n        angular.forEach(articles, function (article) {\r\n            angular.forEach(cart, function (item) {\r\n                if (item.itemId == article.id) {\r\n                    var newObject = article;\r\n                    newObject.quantity = item.quantity;\r\n                    console.log(newObject);\r\n                    $scope.cart[item.itemId] = newObject;\r\n                }\r\n            });\r\n        });\r\n        $scope.updateTotalPrice();\r\n\r\n        $scope.quantityChange = function (id) {\r\n            cart[id].quantity = parseInt($scope.cart[id].quantity);\r\n            $scope.updateTotalPrice();\r\n            localStorageService.set('cart', cart);\r\n            $rootScope.$emit('itemAddedToCart');\r\n        };\r\n\r\n        $scope.remove = function (id) {\r\n            delete $scope.cart[id];\r\n            delete cart[id];\r\n            $scope.updateTotalPrice();\r\n            localStorageService.set('cart', cart);\r\n            $rootScope.$emit('itemAddedToCart');\r\n        }\r\n    }]);\n\r\nangular.module('app.genre', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('genre', {\r\n            url: '/genre/:name',\r\n            templateUrl: 'app/genre/genre.html',\r\n            controller: 'GenreCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('GenreCtrl', [\"$stateParams\", \"localStorageService\", \"$scope\", function ($stateParams, localStorageService, $scope) {\r\n        // TODO: order objects by id\r\n        $scope.genre = $stateParams.name;\r\n        var articles = localStorageService.get('articles');\r\n        $scope.articles = {};\r\n        $scope.isArticles = false;\r\n        if ($scope.genre != 'Alle Spiele') {\r\n            angular.forEach(articles, function (item) {\r\n                if (item.genre == $scope.genre) {\r\n                    $scope.isArticles = true;\r\n                    $scope.articles[item.id] = item;\r\n                }\r\n            });\r\n        } else {\r\n            $scope.isArticles = true;\r\n            $scope.articles = articles;\r\n        }\r\n    }]);\n\r\nangular.module('app.home', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('home', {\r\n            url: '/home',\r\n            templateUrl: 'app/home/home.html',\r\n            controller: 'HomeCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('HomeCtrl', function () {\r\n\r\n    });\n\r\nangular.module('app.login', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('login', {\r\n            url: '/login',\r\n            templateUrl: 'app/login/login.html',\r\n            controller: 'LoginCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('LoginCtrl', [\"$scope\", \"$state\", \"localStorageService\", \"$rootScope\", function ($scope, $state, localStorageService, $rootScope) {\r\n        $scope.isFormTouched = false;\r\n        var user = localStorageService.get('user') || {};\r\n        var toCheckout = localStorageService.get('fromCheckout');\r\n        if (user.userName) {\r\n            toastr.info('Sie sind bereits eingeloogt als \"' + user.userName + '\"!');\r\n            $state.go('home');\r\n        }\r\n        $scope.data = {};\r\n        $scope.data.password = '';\r\n        $scope.data.userName = '';\r\n\r\n        //Trigger Login when enter pressed\r\n        $(\"#username\").keydown(function (event) {\r\n            if (event.keyCode == 13) {\r\n                $(\"#submit\").click();\r\n            }\r\n        });\r\n        $(\"#password\").keydown(function (event) {\r\n            if (event.keyCode == 13) {\r\n                $(\"#submit\").click();\r\n            }\r\n        });\r\n\r\n        $scope.login = function () {\r\n            $scope.isFormTouched = true;\r\n            if (!$scope.data.userName || !$scope.data.password) {\r\n                toastr.warning('<img src=\"assets/img/Epic_Mass_Facepalm.gif\"/>');\r\n                toastr.warning('You had one Job!');\r\n            } else {\r\n                toastr.success('Einloggen war erfolgreich.');\r\n                var role;\r\n                $scope.data.userName == 'daniel' ? role = 'admin' : role = 'user';\r\n                var user = {\r\n                    userName: $scope.data.userName,\r\n                    role: role\r\n                };\r\n                localStorageService.set('user', user);\r\n                $rootScope.$emit('login');\r\n                localStorageService.remove('checkout');\r\n                if (toCheckout) {\r\n                    $state.go('checkout');\r\n                } else {\r\n                    $state.go('home');\r\n                }\r\n            }\r\n        }\r\n    }]);\n\r\nangular.module('app.newGames', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('newGames', {\r\n            url: '/newGames',\r\n            templateUrl: 'app/newGames/newGames.html',\r\n            controller: 'NewGamesCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('NewGamesCtrl', function () {\r\n\r\n    });\n\r\nangular.module('app')\r\n    .factory('articles', [\"$q\", \"$http\", \"localStorageService\", function ($q, $http, localStorageService) {\r\n        var service = {};\r\n\r\n        service.getAllArticles = function () {\r\n            var q = $q.defer();\r\n            $http.get('assets/json/articles.json')\r\n                .then(function (response) {\r\n                    //Mapping\r\n                    var mapped = _mapArticles(response.data);\r\n                    localStorageService.set('articles', mapped);\r\n                    q.resolve(mapped);\r\n                }, function (error) {\r\n                    q.reject(error);\r\n                });\r\n            return q.promise;\r\n        };\r\n\r\n        service.getAllGenres = function () {\r\n            var q = $q.defer();\r\n            var genres = localStorageService.get('genres') || [];\r\n            if (!genres) {\r\n                this.getAllArticles()\r\n                    .then(function () {\r\n                        genres = localStorageService.get('genres') || [];\r\n                        q.resolve(genres);\r\n                    }, function (error) {\r\n                        q.reject(error);\r\n                    })\r\n            } else {\r\n                q.resolve(genres);\r\n            }\r\n            return q.promise;\r\n        };\r\n\r\n        var _mapArticles = function (articles) {\r\n            var mappedItems = {};\r\n            var genres = [];\r\n\r\n            angular.forEach(articles, function (item) {\r\n                // Genres\r\n                var isNewGenre = true;\r\n                angular.forEach(genres, function (genre) {\r\n                    if (item.genre == genre) {\r\n                        isNewGenre = false;\r\n                    }\r\n                });\r\n                if (isNewGenre) {\r\n                    genres.push(item.genre);\r\n                }\r\n\r\n                var mappedItem = {\r\n                    id: item.id,\r\n                    name: item.name,\r\n                    genre: item.genre,\r\n                    price: item.price,\r\n                    fsk: item.fsk,\r\n                    platforms: item.platforms,\r\n                    release: item.release,\r\n                    language: item.language,\r\n                    minRam: item.minRam,\r\n                    minProcessor: item.minProcessor,\r\n                    image: item.image,\r\n                    description: item.description,\r\n                    reviews: _mapReviews(item.reviews)\r\n                };\r\n                mappedItems[mappedItem.id] = mappedItem;\r\n            });\r\n            localStorageService.set('genres', genres);\r\n            return mappedItems;\r\n        };\r\n        var _mapReviews = function (reviews) {\r\n            var mappedItems = {};\r\n            angular.forEach(reviews, function (item) {\r\n                var mappedItem = {\r\n                    id: item.id,\r\n                    stars: item.stars,\r\n                    author: item.author,\r\n                    title: item.title,\r\n                    message: item.message\r\n                };\r\n                mappedItems[mappedItem.id] = mappedItem;\r\n            });\r\n            return mappedItems;\r\n        };\r\n        return service;\r\n    }]);\n\r\nangular.module('app.topGames', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('topGames', {\r\n            url: '/topGames',\r\n            templateUrl: 'app/topGames/topGames.html',\r\n            controller: 'TopGamesCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('TopGamesCtrl', function () {\r\n\r\n    });\n\r\nangular.module('app.orders', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('orders', {\r\n            url: '/orders',\r\n            templateUrl: 'app/orders/orders.html',\r\n            controller: 'OrdersCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('OrdersCtrl', [\"$scope\", \"$http\", \"localStorageService\", function ($scope, $http, localStorageService) {\r\n        var date = new Date();\r\n        console.log(date);\r\n        $http.get('../assets/json/orders.json')\r\n            .then(function (response) {\r\n                localStorageService.set('orders', response.data);\r\n                $scope.orders = response.data;\r\n                console.log($scope.orders);\r\n            }, function (error) {\r\n                var data = localStorageService.get('orders');\r\n                if (data) {\r\n                    toastr.warning('Bestellungen konnten nicht geladen werden! Daten sind möglicherweise veraltet.');\r\n                    $scope.orders = data;\r\n                } else {\r\n                    toastr.error('Bestellungen konnten nicht geladen werden! Bitte verbinden Sie sich mit dem Internet.');\r\n                }\r\n                console.log(error);\r\n            });\r\n    }]);\n\r\nangular.module('app.gameDetail')\r\n    .controller('RatingCtrl', [\"$scope\", \"$uibModalInstance\", \"stars\", \"title\", \"message\", function ($scope, $uibModalInstance, stars, title, message) {\r\n        \r\n        $scope.stars = stars;\r\n        $scope.message = message;\r\n        $scope.title = title;\r\n\r\n        $scope.checkValid = function () {\r\n            $scope.message && $scope.title ? $scope.isValid = true : $scope.isValid = false;\r\n        };\r\n        $scope.checkValid();\r\n\r\n        $scope.submit = function () {\r\n            var result = {\r\n                title: $scope.title,\r\n                message: $scope.message,\r\n                stars: $scope.stars\r\n            };\r\n            $uibModalInstance.close(result);\r\n        };\r\n        $scope.cancel = function () {\r\n            $uibModalInstance.dismiss();\r\n        };\r\n    }]);\n\r\nangular.module('app.checkout', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('checkout', {\r\n            url: '/checkout',\r\n            templateUrl: 'app/cart/checkout/checkout.html',\r\n            controller: 'CheckoutCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('CheckoutCtrl', [\"$scope\", \"localStorageService\", \"$state\", function ($scope, localStorageService, $state) {\r\n        var user = localStorageService.get('user') || {};\r\n        if (!user.userName) {\r\n            localStorageService.set('fromCheckout', true);\r\n            toastr.info('Bitte melden Sie sich an.');\r\n            $state.go('login');\r\n        }\r\n        var cart = localStorageService.get('cart') || {};\r\n        var articles = localStorageService.get('articles') || {};\r\n        $scope.cart = {};\r\n\r\n        $scope.updateTotalPrice = function () {\r\n            $scope.totalPrice = 0;\r\n            angular.forEach($scope.cart, function (item) {\r\n                $scope.totalPrice += item.quantity * item.price;\r\n            });\r\n        };\r\n\r\n        angular.forEach(articles, function (article) {\r\n            angular.forEach(cart, function (item) {\r\n                if (item.itemId == article.id) {\r\n                    var newObject = article;\r\n                    newObject.quantity = item.quantity;\r\n                    $scope.cart[item.itemId] = newObject;\r\n                }\r\n            });\r\n        });\r\n        $scope.updateTotalPrice();\r\n\r\n    }]);\n\r\nangular.module('app.passwordForget', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('passwordForget', {\r\n            url: '/passwordForget',\r\n            templateUrl: 'app/login/passwordForget/passwordForget.html',\r\n            controller: 'PasswordForgetCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('PasswordForgetCtrl', [\"$scope\", function ($scope) {\r\n        $scope.data = {};\r\n        $scope.data.email = '';\r\n        $scope.submit = function () {\r\n            if (!$scope.email) {\r\n                toastr.warning('Ungültige Email-Adresse!');\r\n            } else {\r\n                toastr.success('Gültige Eingabe.');\r\n            }\r\n        }\r\n    }]);\n\r\nangular.module('app.register', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('register', {\r\n            url: '/register',\r\n            templateUrl: 'app/login/register/register.html',\r\n            controller: 'RegisterCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('RegisterCtrl', [\"$scope\", \"$http\", \"$log\", function ($scope, $http, $log) {\r\n        $scope.data = {};\r\n        $scope.data.userName = '';\r\n        $scope.data.email = '';\r\n        $scope.data.password = '';\r\n        $scope.data.passwordConfirm = '';\r\n        $http.get('http://localhost:8080/rest/user/Daniel')\r\n            .then(function (response) {\r\n                $log.log(response);\r\n            }, function (error) {\r\n                $log.error(error)\r\n            });\r\n        $scope.register = function () {\r\n            if (!$scope.data.userName || !$scope.data.password || !$scope.data.passwordConfirm) {\r\n                toastr.warning('Alle Felder müssen ausgefüllt werden!', 'Fehlende Informationen!')\r\n            } else if (!$scope.data.email) {\r\n                toastr.warning('Die Email-Adresse ist ungültig!', 'Fehlerhafte Informationen!')\r\n            } else if ($scope.data.password != $scope.data.passwordConfirm) {\r\n                toastr.warning('Die Passwörter stimmen nicht überein.', 'Fehlerhafte Informationen!')\r\n            } else {\r\n                var user = {\r\n                    id: '0000',\r\n                    username: $scope.data.userName,\r\n                    password: $scope.data.password,\r\n                    email: $scope.data.email,\r\n                    role: 'user'\r\n                };\r\n                // $http.post('http://localhost:8080/rest/user/' + JSON.stringify(user)+'');\r\n                toastr.success('Registrierung war valid.');\r\n            }\r\n        }\r\n    }]);\n\n})(window, document);\n"],"sourceRoot":"/source/"}