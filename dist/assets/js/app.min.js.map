{"version":3,"sources":["app.js"],"names":["window","document","undefined","angular","module","config","$urlRouterProvider","localStorageServiceProvider","otherwise","setPrefix","run","localStorageService","articles","$rootScope","$log","getAllArticles","then","response","$emit","set","error","data","get","toastr","warning","controller","$scope","$http","$state","remove","$on","event","toState","toParams","currentStateName","name","currentStateParams","countCartItems","getUserData","getAllGenres","genres","logout","success","go","user","userName","userRole","role","cart","quantity","forEach","item","directive","restrict","link","scope","element","attrs","bind","isImage","$apply","$stateProvider","state","url","templateUrl","validatePrice","input","test","selected","platform","fsk","isTouched","isPriceInvalid","isPriceTouched","isCustomGenre","genreButtonText","changeInputStyle","priceValidation","price","addArticle","title","genre","customGenre","wiiu","windows","ps","xbox","osx","release","language","minRam","minProcessor","description","updateTotalPrice","totalPrice","article","itemId","id","newObject","console","log","quantityChange","parseInt","$stateParams","$uibModal","tab","active","calculateAverageStars","count","stars","changeTab","type","actualGame","reviews","getElementById","innerHTML","toCart","starsActivator","numbers","i","starHover","number","leave","rate","newReviewId","message","review","author","modalInstance","open","animation","resolve","result","isArticles","isFormTouched","toCheckout","info","password","$","keydown","keyCode","click","login","Rolle","status","date","Date","orders","factory","$q","service","q","defer","mapped","_mapArticles","reject","promise","this","mappedItems","isNewGenre","push","mappedItem","platforms","image","_mapReviews","$uibModalInstance","checkValid","isValid","submit","close","cancel","dismiss","email","passwordConfirm","register","username"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(window, document, undefined) {\n'use strict';\nangular.module('app', [\n    'ui.router',\n    'ui.bootstrap',\n    'LocalStorageModule',\n    'ngAnimate',\n    'templates',\n    'textAngular',\n    // 'ngSanitize',\n    'app.home',\n    'app.addArticle',\n    'app.topGames',\n    'app.newGames',\n    'app.gameDetail',\n    'app.login',\n    'app.genre',\n    'app.cart',\n    'app.checkout',\n    'app.orders',\n    'app.userAdministration',\n    'app.register',\n    'app.passwordForget'\n])\n    .config([\"$urlRouterProvider\", \"localStorageServiceProvider\", function ($urlRouterProvider, localStorageServiceProvider) {\n        $urlRouterProvider.otherwise('/home');\n        localStorageServiceProvider.setPrefix('webshop');\n    }])\n    .run([\"localStorageService\", \"articles\", \"$rootScope\", \"$log\", function (localStorageService, articles, $rootScope, $log) {\n        articles.getAllArticles()\n            .then(function (response) {\n                $rootScope.$emit('genresLoaded');\n                localStorageService.set('articles', response);\n            }, function (error) {\n                var data = localStorageService.get('articles');\n                if (data) {\n                    toastr.warning('Artikel konnten nicht neu geladen werden. Daten sind möglicherweise veraltet.')\n                } else {\n                    toastr.error('Artikel konnten nicht geladen werden.');\n                }\n                $log.error(error);\n            });\n        localStorageService.set('fromCheckout', false);\n    }])\n    .controller('AppCtrl', [\"$scope\", \"$rootScope\", \"$http\", \"localStorageService\", \"$state\", \"articles\", \"$log\", function ($scope, $rootScope, $http, localStorageService, $state, articles, $log) {\n        localStorageService.remove('checkout');\n        $rootScope.$on('$stateChangeSuccess',\n            function (event, toState, toParams) {\n                $scope.currentStateName = toState.name;\n                $scope.currentStateParams = toParams.name;\n            });\n\n        $rootScope.$on('itemAddedToCart', function () {\n            countCartItems();\n        });\n\n        $rootScope.$on('login', function () {\n            getUserData();\n        });\n        \n        $rootScope.$on('genresLoaded', function () {\n             articles.getAllGenres()\n                 .then(function (response) {\n                     $scope.genres = response;\n                 }, function (error) {\n                     $log.error(error);\n                 })\n        });\n\n        $scope.logout = function () {\n            localStorageService.remove('user');\n            localStorageService.remove('orders');\n            localStorageService.remove('checkout');\n            // update user data\n            $rootScope.$emit('login');\n            $rootScope.$emit('itemAddedToCart');\n            toastr.success('Logout war erfolgreich.');\n            $state.go('login');\n        };\n\n        var getUserData = function () {\n            var user = localStorageService.get('user') || {};\n            $scope.userName = user.userName || 'Benutzer';\n            $scope.userRole = user.role;\n        };\n        getUserData();\n\n        var countCartItems = function () {\n            var cart = localStorageService.get('cart');\n            $scope.quantity = 0;\n            angular.forEach(cart, function (item) {\n                $scope.quantity += item.quantity;\n            });\n        };\n        countCartItems();\n    }])\n    .directive('imageonload', function() {\n        return {\n            restrict: 'A',\n            link: function(scope, element, attrs) {\n                element.bind('load', function() {\n                    scope.isImage = true;\n                    scope.$apply();\n                });\n                element.bind('error', function(){\n                    scope.isImage = false;\n                    scope.$apply();\n                });\n            }\n        };\n    });\n\nangular.module('app.addArticle', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('addArticle', {\n            url: '/addArticle',\n            templateUrl: 'app/addArticle/addArticle.html',\n            controller: 'AddArticleCtrl'\n        });\n    }])\n\n    .controller('AddArticleCtrl', [\"$scope\", \"articles\", \"$log\", function ($scope, articles, $log) {\n        $scope.selected = {};\n        $scope.selected.platform = {};\n        $scope.selected.fsk = '0';\n        $scope.isTouched = false;\n        $scope.isPriceInvalid = false;\n        $scope.isPriceTouched = false;\n        $scope.isCustomGenre = false;\n        $scope.genreButtonText = 'Neues Genre anlegen';\n\n        articles.getAllGenres()\n            .then(function (response) {\n                $scope.genres = response;\n            }, function (error) {\n                $log.error(error);\n            });\n\n        function validatePrice(input) {\n            return /(?=.)^\\$?(([1-9][0-9]{0,2}(,[0-9]{3})*)|[0-9]+)?(\\.[0-9]{1,2})?$/.test(input);\n        }\n\n        $scope.changeInputStyle = function () {\n            $scope.isCustomGenre ? $scope.isCustomGenre = false : $scope.isCustomGenre = true;\n            $scope.genreButtonText == 'Neues Genre anlegen' ? $scope.genreButtonText = 'Vorhandenes Genre auswählen' : $scope.genreButtonText = 'Neues Genre anlegen';\n        };\n\n        $scope.priceValidation = function () {\n            $scope.isPriceTouched = true;\n            !validatePrice($scope.price) ? $scope.isPriceInvalid = true : $scope.isPriceInvalid = false;\n        };\n\n        $scope.addArticle = function () {\n            $scope.isTouched = true;\n            $scope.isPriceTouched = true;\n            $scope.isPriceInvalid = false;\n            if ($scope.title && ((!selected.genre && !isCustomGenre) || (isCustomGenre && !customGenre)) && $scope.price && ($scope.selected.platform.wiiu ||\n                $scope.selected.platform.windows || $scope.selected.platform.ps || $scope.selected.platform.xbox ||\n                $scope.selected.platform.osx) && $scope.release && $scope.language && $scope.minRam &&\n                $scope.minProcessor && $scope.description) {\n                if (!validatePrice($scope.price)) {\n                    toastr.warning('Ungültiger Preis!');\n                    $scope.isPriceInvalid = true;\n                } else {\n                    toastr.success('Top');\n                }\n            } else {\n                toastr.warning('Fehlende Informationen!');\n            }\n        }\n    }]);\n\nangular.module('app.cart', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('cart', {\n            url: '/cart',\n            templateUrl: 'app/cart/cart.html',\n            controller: 'CartCtrl'\n        });\n    }])\n\n    .controller('CartCtrl', [\"localStorageService\", \"$scope\", \"$rootScope\", function (localStorageService, $scope, $rootScope) {\n        // cart only\n        var cart = localStorageService.get('cart');\n        // articles only\n        var articles = localStorageService.get('articles');\n        // cart and articles merged\n        $scope.cart = {};\n\n        $scope.updateTotalPrice = function () {\n            $scope.totalPrice = 0;\n            angular.forEach($scope.cart, function (item) {\n                $scope.totalPrice += item.quantity * item.price;\n            });\n        };\n\n        // merge cart and articles\n        angular.forEach(articles, function (article) {\n            angular.forEach(cart, function (item) {\n                if (item.itemId == article.id) {\n                    var newObject = article;\n                    newObject.quantity = item.quantity;\n                    console.log(newObject);\n                    $scope.cart[item.itemId] = newObject;\n                }\n            });\n        });\n        $scope.updateTotalPrice();\n\n        $scope.quantityChange = function (id) {\n            cart[id].quantity = parseInt($scope.cart[id].quantity);\n            $scope.updateTotalPrice();\n            localStorageService.set('cart', cart);\n            $rootScope.$emit('itemAddedToCart');\n        };\n\n        $scope.remove = function (id) {\n            delete $scope.cart[id];\n            delete cart[id];\n            $scope.updateTotalPrice();\n            localStorageService.set('cart', cart);\n            $rootScope.$emit('itemAddedToCart');\n        }\n    }]);\n\nangular.module('app.gameDetail', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('gameDetail', {\n            url: '/gameDetail/:id',\n            templateUrl: 'app/gameDetail/gameDetail.html',\n            controller: 'GameDetailCtrl'\n        });\n    }])\n\n    .controller('GameDetailCtrl', [\"$scope\", \"$http\", \"$stateParams\", \"localStorageService\", \"$rootScope\", \"$uibModal\", function ($scope, $http, $stateParams, localStorageService, $rootScope, $uibModal) {\n        $scope.tab = {};\n        $scope.tab.active = 'description';\n        $scope.quantity = 1;\n\n        var user = localStorageService.get('user') || {};\n        var userName = user.userName;\n\n        var calculateAverageStars = function (data) {\n            var count = 0;\n            var stars = 0;\n            angular.forEach(data, function (item) {\n                count++;\n                stars += item.stars;\n            });\n            return stars / count;\n        };\n\n        $scope.changeTab = function (type) {\n            $scope.tab.active = type;\n        };\n\n        var id = $stateParams.id;\n        $scope.articles = localStorageService.get('articles');\n        $scope.actualGame = $scope.articles[id];\n\n        $scope.stars = calculateAverageStars($scope.actualGame.reviews);\n        document.getElementById(\"description\").innerHTML = $scope.actualGame.description;\n\n        $scope.toCart = function () {\n            if ($scope.quantity >= 1) {\n                var cart = localStorageService.get('cart') || {};\n                if (cart[$scope.actualGame.id] && cart[$scope.actualGame.id].quantity) {\n                    cart[$scope.actualGame.id].quantity = parseInt(cart[$scope.actualGame.id].quantity) + parseInt($scope.quantity)\n                } else {\n                    cart[$scope.actualGame.id] = {\n                        itemId: $scope.actualGame.id,\n                        quantity: parseInt($scope.quantity)\n                    };\n                }\n                localStorageService.set('cart', cart);\n                $rootScope.$emit('itemAddedToCart');\n                toastr.success('Artikel erfolgreich ' + $scope.quantity + 'x in den Warenkorb gelegt!');\n                toastr.success('<img src=\"assets/img/giphy.gif\" ng-show=\"inCart\"/>');\n                $scope.quantity = 1;\n            } else {\n                toastr.warning('Bitte geben Sie eine gültige Zahl ein!')\n            }\n        };\n\n        $scope.starsActivator = {};\n        $scope.numbers = [1, 2, 3, 4, 5];\n        for (var i = 0; i <= 4; i++) {\n            $scope.starsActivator[$scope.numbers[i]] = false;\n        }\n\n        $scope.starHover = function (number) {\n            while (number > 0) {\n                $scope.starsActivator[number] = true;\n                number--;\n            }\n        };\n\n        $scope.leave = function () {\n            for (var i = 0; i <= 4; i++) {\n                $scope.starsActivator[$scope.numbers[i]] = false;\n            }\n        };\n\n        $scope.rate = function (stars) {\n            if (userName) {\n                var newReviewId = 1;\n                do {\n                    newReviewId++;\n                } while ($scope.actualGame.reviews[newReviewId]);\n                var title = '';\n                var message = '';\n                angular.forEach($scope.actualGame.reviews, function (review) {\n                    if (review.author == user) {\n                        title = review.title;\n                        message = review.message;\n                        newReviewId = review.id;\n                    }\n                });\n                var modalInstance = $uibModal.open({\n                    animation: true,\n                    templateUrl: 'app/gameDetail/rating/rating.html',\n                    controller: 'RatingCtrl',\n                    resolve: {\n                        stars: function () {\n                            return stars;\n                        },\n                        title: function () {\n                            return title;\n                        },\n                        message: function () {\n                            return message;\n                        }\n                    }\n                });\n\n                modalInstance.result.then(function (result) {\n                    $scope.actualGame.reviews[newReviewId] = {\n                        id: newReviewId,\n                        stars: result.stars,\n                        title: result.title,\n                        message: result.message,\n                        author: userName\n                    };\n                    $scope.articles[id].reviews = $scope.actualGame.reviews;\n                    localStorageService.set('articles', $scope.articles);\n                    $scope.stars = calculateAverageStars($scope.actualGame.reviews);\n                    toastr.success('Bewertung hinzugefügt!');\n                }, function () {\n                    console.log('Modal dismissed');\n                });\n            } else {\n                toastr.warning('Bitte loggen Sie sich zuerst ein!');\n            }\n        };\n    }]);\n\nangular.module('app.genre', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('genre', {\n            url: '/genre/:name',\n            templateUrl: 'app/genre/genre.html',\n            controller: 'GenreCtrl'\n        });\n    }])\n\n    .controller('GenreCtrl', [\"$stateParams\", \"localStorageService\", \"$scope\", function ($stateParams, localStorageService, $scope) {\n        // TODO: order objects by id\n        $scope.genre = $stateParams.name;\n        var articles = localStorageService.get('articles');\n        $scope.articles = {};\n        $scope.isArticles = false;\n        if ($scope.genre != 'Alle Spiele') {\n            angular.forEach(articles, function (item) {\n                if (item.genre == $scope.genre) {\n                    $scope.isArticles = true;\n                    $scope.articles[item.id] = item;\n                }\n            });\n        } else {\n            $scope.isArticles = true;\n            $scope.articles = articles;\n        }\n    }]);\n\nangular.module('app.home', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('home', {\n            url: '/home',\n            templateUrl: 'app/home/home.html',\n            controller: 'HomeCtrl'\n        });\n    }])\n\n    .controller('HomeCtrl', function () {\n\n    });\n\nangular.module('app.login', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('login', {\n            url: '/login',\n            templateUrl: 'app/login/login.html',\n            controller: 'LoginCtrl'\n        });\n    }])\n\n    .controller('LoginCtrl', [\"$scope\", \"$state\", \"localStorageService\", \"$rootScope\", \"$http\", \"$log\", function ($scope, $state, localStorageService, $rootScope, $http, $log) {\n        $scope.isFormTouched = false;\n        var user = localStorageService.get('user') || {};\n        var toCheckout = localStorageService.get('fromCheckout');\n        if (user.userName) {\n            toastr.info('Sie sind bereits eingeloogt als \"' + user.userName + '\"!');\n            $state.go('home');\n        }\n        $scope.data = {};\n        $scope.data.password = '';\n        $scope.data.userName = '';\n\n        //Trigger Login when enter pressed\n        $(\"#username\").keydown(function (event) {\n            if (event.keyCode == 13) {\n                $(\"#submit\").click();\n            }\n        });\n        $(\"#password\").keydown(function (event) {\n            if (event.keyCode == 13) {\n                $(\"#submit\").click();\n            }\n        });\n\n        $scope.login = function () {\n            $scope.isFormTouched = true;\n            if (!$scope.data.userName || !$scope.data.password) {\n                toastr.warning('<img src=\"assets/img/Epic_Mass_Facepalm.gif\"/>');\n                toastr.warning('You had one Job!');\n            } else {\n                $http.get('http://localhost:8080/rest/user/' + $scope.data.userName)\n                    .then(function (response) {\n                        if (response.data.password === $scope.data.password) {\n                            toastr.success('Login war erfolgreich.');\n                            var role = response.Rolle;\n                            var user = {\n                                userName: $scope.data.userName,\n                                role: role\n                            };\n                            localStorageService.set('user', user);\n                            $rootScope.$emit('login');\n                            localStorageService.remove('checkout');\n                            if (toCheckout) {\n                                $state.go('checkout');\n                            } else {\n                                $state.go('home');\n                            }\n                        } else {\n                            toastr.warning('Benutzername und Passwort stimmen nicht überein!');\n                        }\n                    }, function (error) {\n                        $log.error(error);\n                        toastr.error('Fehler bei der Verbindung! Status ' + error.status);\n                    });\n            }\n        }\n    }]);\n\nangular.module('app.newGames', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('newGames', {\n            url: '/newGames',\n            templateUrl: 'app/newGames/newGames.html',\n            controller: 'NewGamesCtrl'\n        });\n    }])\n\n    .controller('NewGamesCtrl', function () {\n\n    });\n\nangular.module('app.orders', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('orders', {\n            url: '/orders',\n            templateUrl: 'app/orders/orders.html',\n            controller: 'OrdersCtrl'\n        });\n    }])\n\n    .controller('OrdersCtrl', [\"$scope\", \"$http\", \"localStorageService\", function ($scope, $http, localStorageService) {\n        var date = new Date();\n        console.log(date);\n        $http.get('../assets/json/orders.json')\n            .then(function (response) {\n                localStorageService.set('orders', response.data);\n                $scope.orders = response.data;\n                console.log($scope.orders);\n            }, function (error) {\n                var data = localStorageService.get('orders');\n                if (data) {\n                    toastr.warning('Bestellungen konnten nicht geladen werden! Daten sind möglicherweise veraltet.');\n                    $scope.orders = data;\n                } else {\n                    toastr.error('Bestellungen konnten nicht geladen werden! Bitte verbinden Sie sich mit dem Internet.');\n                }\n                console.log(error);\n            });\n    }]);\n\nangular.module('app')\n    .factory('articles', [\"$q\", \"$http\", \"localStorageService\", function ($q, $http, localStorageService) {\n        var service = {};\n\n        service.getAllArticles = function () {\n            var q = $q.defer();\n            $http.get('assets/json/articles.json')\n                .then(function (response) {\n                    //Mapping\n                    var mapped = _mapArticles(response.data);\n                    localStorageService.set('articles', mapped);\n                    q.resolve(mapped);\n                }, function (error) {\n                    q.reject(error);\n                });\n            return q.promise;\n        };\n\n        service.getAllGenres = function () {\n            var q = $q.defer();\n            var genres = localStorageService.get('genres') || [];\n            if (!genres) {\n                this.getAllArticles()\n                    .then(function () {\n                        genres = localStorageService.get('genres') || [];\n                        q.resolve(genres);\n                    }, function (error) {\n                        q.reject(error);\n                    })\n            } else {\n                q.resolve(genres);\n            }\n            return q.promise;\n        };\n\n        var _mapArticles = function (articles) {\n            var mappedItems = {};\n            var genres = [];\n\n            angular.forEach(articles, function (item) {\n                // Genres\n                var isNewGenre = true;\n                angular.forEach(genres, function (genre) {\n                    if (item.genre == genre) {\n                        isNewGenre = false;\n                    }\n                });\n                if (isNewGenre) {\n                    genres.push(item.genre);\n                }\n\n                var mappedItem = {\n                    id: item.id,\n                    name: item.name,\n                    genre: item.genre,\n                    price: item.price,\n                    fsk: item.fsk,\n                    platforms: item.platforms,\n                    release: item.release,\n                    language: item.language,\n                    minRam: item.minRam,\n                    minProcessor: item.minProcessor,\n                    image: item.image,\n                    description: item.description,\n                    reviews: _mapReviews(item.reviews)\n                };\n                mappedItems[mappedItem.id] = mappedItem;\n            });\n            localStorageService.set('genres', genres);\n            return mappedItems;\n        };\n        var _mapReviews = function (reviews) {\n            var mappedItems = {};\n            angular.forEach(reviews, function (item) {\n                var mappedItem = {\n                    id: item.id,\n                    stars: item.stars,\n                    author: item.author,\n                    title: item.title,\n                    message: item.message\n                };\n                mappedItems[mappedItem.id] = mappedItem;\n            });\n            return mappedItems;\n        };\n        return service;\n    }]);\n\nangular.module('app.topGames', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('topGames', {\n            url: '/topGames',\n            templateUrl: 'app/topGames/topGames.html',\n            controller: 'TopGamesCtrl'\n        });\n    }])\n\n    .controller('TopGamesCtrl', function () {\n\n    });\n\nangular.module('app.userAdministration', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('userAdministration', {\n            url: '/userAdministration',\n            templateUrl: 'app/userAdministration/userAdministration.html',\n            controller: 'UserAdministrationCtrl'\n        });\n    }])\n\n    .controller('UserAdministrationCtrl', function () {\n\n    });\n\nangular.module('app.checkout', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('checkout', {\n            url: '/checkout',\n            templateUrl: 'app/cart/checkout/checkout.html',\n            controller: 'CheckoutCtrl'\n        });\n    }])\n\n    .controller('CheckoutCtrl', [\"$scope\", \"localStorageService\", \"$state\", function ($scope, localStorageService, $state) {\n        var user = localStorageService.get('user') || {};\n        if (!user.userName) {\n            localStorageService.set('fromCheckout', true);\n            toastr.info('Bitte melden Sie sich an.');\n            $state.go('login');\n        }\n        var cart = localStorageService.get('cart') || {};\n        var articles = localStorageService.get('articles') || {};\n        $scope.cart = {};\n\n        $scope.updateTotalPrice = function () {\n            $scope.totalPrice = 0;\n            angular.forEach($scope.cart, function (item) {\n                $scope.totalPrice += item.quantity * item.price;\n            });\n        };\n\n        angular.forEach(articles, function (article) {\n            angular.forEach(cart, function (item) {\n                if (item.itemId == article.id) {\n                    var newObject = article;\n                    newObject.quantity = item.quantity;\n                    $scope.cart[item.itemId] = newObject;\n                }\n            });\n        });\n        $scope.updateTotalPrice();\n\n    }]);\n\nangular.module('app.gameDetail')\n    .controller('RatingCtrl', [\"$scope\", \"$uibModalInstance\", \"stars\", \"title\", \"message\", function ($scope, $uibModalInstance, stars, title, message) {\n        \n        $scope.stars = stars;\n        $scope.message = message;\n        $scope.title = title;\n\n        $scope.checkValid = function () {\n            $scope.message && $scope.title ? $scope.isValid = true : $scope.isValid = false;\n        };\n        $scope.checkValid();\n\n        $scope.submit = function () {\n            var result = {\n                title: $scope.title,\n                message: $scope.message,\n                stars: $scope.stars\n            };\n            $uibModalInstance.close(result);\n        };\n        $scope.cancel = function () {\n            $uibModalInstance.dismiss();\n        };\n    }]);\n\nangular.module('app.passwordForget', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('passwordForget', {\n            url: '/passwordForget',\n            templateUrl: 'app/login/passwordForget/passwordForget.html',\n            controller: 'PasswordForgetCtrl'\n        });\n    }])\n\n    .controller('PasswordForgetCtrl', [\"$scope\", function ($scope) {\n        $scope.data = {};\n        $scope.data.email = '';\n        $scope.submit = function () {\n            if (!$scope.email) {\n                toastr.warning('Ungültige Email-Adresse!');\n            } else {\n                toastr.success('Gültige Eingabe.');\n            }\n        }\n    }]);\n\nangular.module('app.register', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('register', {\n            url: '/register',\n            templateUrl: 'app/login/register/register.html',\n            controller: 'RegisterCtrl'\n        });\n    }])\n\n    .controller('RegisterCtrl', [\"$scope\", \"$http\", \"$log\", function ($scope, $http, $log) {\n        $scope.data = {};\n        $scope.data.userName = '';\n        $scope.data.email = '';\n        $scope.data.password = '';\n        $scope.data.passwordConfirm = '';\n\n        $scope.register = function () {\n            if (!$scope.data.userName || !$scope.data.password || !$scope.data.passwordConfirm) {\n                toastr.warning('Alle Felder müssen ausgefüllt werden!', 'Fehlende Informationen!')\n            } else if (!$scope.data.email) {\n                toastr.warning('Die Email-Adresse ist ungültig!', 'Fehlerhafte Informationen!')\n            } else if ($scope.data.password != $scope.data.passwordConfirm) {\n                toastr.warning('Die Passwörter stimmen nicht überein.', 'Fehlerhafte Informationen!')\n            } else {\n                var user = {\n                    id: '0000',\n                    username: $scope.data.userName,\n                    password: $scope.data.password,\n                    email: $scope.data.email,\n                    role: 'user'\n                };\n                // $http.post('http://localhost:8080/rest/user/' + JSON.stringify(user)+'');\n            }\n        }\n    }]);\n\n})(window, document);\n"],"sourceRoot":"/source/"}