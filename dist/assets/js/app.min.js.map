{"version":3,"sources":["app.js"],"names":["window","document","undefined","angular","module","config","$urlRouterProvider","localStorageServiceProvider","otherwise","setPrefix","toastr","options","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","onclick","showDuration","hideDuration","timeOut","extendedTimeOut","showEasing","hideEasing","showMethod","hideMethod","run","localStorageService","articles","$rootScope","$log","getAllArticles","then","response","$emit","set","error","data","get","warning","controller","$scope","$http","$state","remove","$on","event","toState","toParams","currentStateName","name","currentStateParams","countCartItems","getUserData","getAllGenres","genres","logout","success","go","user","userName","userRole","role","cart","quantity","forEach","item","directive","restrict","link","scope","element","attrs","bind","isImage","$apply","filter","items","search","result","toLowerCase","value","key","indexOf","push","$stateProvider","state","url","templateUrl","validatePrice","input","test","selected","platform","fsk","isTouched","isPriceInvalid","isPriceTouched","isCustomGenre","genreButtonText","changeInputStyle","priceValidation","price","addArticle","title","genre","customGenre","wiiu","windows","ps","xbox","osx","release","language","minRam","minProcessor","description","updateTotalPrice","totalPrice","article","itemId","id","newObject","console","log","quantityChange","parseInt","$stateParams","$uibModal","tab","active","calculateAverageStars","count","stars","changeTab","type","actualGame","reviews","getElementById","innerHTML","toCart","starsActivator","numbers","i","starHover","number","leave","rate","newReviewId","message","review","author","modalInstance","open","animation","resolve","searchInout","isArticles","isFormTouched","toCheckout","info","password","$","keydown","keyCode","click","login","date","Date","orders","factory","$q","service","q","defer","mapped","_mapArticles","reject","promise","this","mappedItems","isNewGenre","mappedItem","platforms","image","_mapReviews","$uibModalInstance","checkValid","isValid","submit","close","cancel","dismiss","email","passwordConfirm","register","username"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(window, document, undefined) {\n'use strict';\nangular.module('app', [\n    'ui.router',\n    'ui.bootstrap',\n    'LocalStorageModule',\n    'ngAnimate',\n    'templates',\n    'textAngular',\n    // 'ngSanitize',\n    'app.home',\n    'app.addArticle',\n    'app.topGames',\n    'app.newGames',\n    'app.gameDetail',\n    'app.login',\n    'app.genre',\n    'app.cart',\n    'app.checkout',\n    'app.orders',\n    'app.userAdministration',\n    'app.register',\n    'app.passwordForget'\n])\n    .config([\"$urlRouterProvider\", \"localStorageServiceProvider\", function ($urlRouterProvider, localStorageServiceProvider) {\n        $urlRouterProvider.otherwise('/home');\n        localStorageServiceProvider.setPrefix('webshop');\n        toastr.options = {\n            \"closeButton\": false,\n            \"debug\": false,\n            \"newestOnTop\": true,\n            \"progressBar\": false,\n            \"positionClass\": \"toast-bottom-right\",\n            \"preventDuplicates\": false,\n            \"onclick\": null,\n            \"showDuration\": \"300\",\n            \"hideDuration\": \"1000\",\n            \"timeOut\": \"5000\",\n            \"extendedTimeOut\": \"1000\",\n            \"showEasing\": \"swing\",\n            \"hideEasing\": \"linear\",\n            \"showMethod\": \"fadeIn\",\n            \"hideMethod\": \"fadeOut\"\n        }\n    }])\n    .run([\"localStorageService\", \"articles\", \"$rootScope\", \"$log\", function (localStorageService, articles, $rootScope, $log) {\n        articles.getAllArticles()\n            .then(function (response) {\n                $rootScope.$emit('genresLoaded');\n                localStorageService.set('articles', response);\n            }, function (error) {\n                var data = localStorageService.get('articles');\n                if (data) {\n                    toastr.warning('Artikel konnten nicht neu geladen werden. Daten sind möglicherweise veraltet.')\n                } else {\n                    toastr.error('Artikel konnten nicht geladen werden.');\n                }\n                $log.error(error);\n            });\n        localStorageService.set('fromCheckout', false);\n    }])\n    .controller('AppCtrl', [\"$scope\", \"$rootScope\", \"$http\", \"localStorageService\", \"$state\", \"articles\", \"$log\", function ($scope, $rootScope, $http, localStorageService, $state, articles, $log) {\n        localStorageService.remove('checkout');\n        $rootScope.$on('$stateChangeSuccess',\n            function (event, toState, toParams) {\n                $scope.currentStateName = toState.name;\n                $scope.currentStateParams = toParams.name;\n            });\n\n        $rootScope.$on('itemAddedToCart', function () {\n            countCartItems();\n        });\n\n        $rootScope.$on('login', function () {\n            getUserData();\n        });\n\n        $rootScope.$on('genresLoaded', function () {\n            articles.getAllGenres()\n                .then(function (response) {\n                    $scope.genres = response;\n                }, function (error) {\n                    $log.error(error);\n                })\n        });\n\n        $scope.logout = function () {\n            localStorageService.remove('user');\n            localStorageService.remove('orders');\n            localStorageService.remove('checkout');\n            // update user data\n            $rootScope.$emit('login');\n            $rootScope.$emit('itemAddedToCart');\n            toastr.success('Logout war erfolgreich.');\n            $state.go('login');\n        };\n\n        var getUserData = function () {\n            var user = localStorageService.get('user') || {};\n            $scope.userName = user.userName || 'Benutzer';\n            $scope.userRole = user.role;\n        };\n        getUserData();\n\n        var countCartItems = function () {\n            var cart = localStorageService.get('cart');\n            $scope.quantity = 0;\n            angular.forEach(cart, function (item) {\n                $scope.quantity += item.quantity;\n            });\n        };\n        countCartItems();\n    }])\n    .directive('imageonload', function () {\n        return {\n            restrict: 'A',\n            link: function (scope, element, attrs) {\n                element.bind('load', function () {\n                    scope.isImage = true;\n                    scope.$apply();\n                });\n                element.bind('error', function () {\n                    scope.isImage = false;\n                    scope.$apply();\n                });\n            }\n        };\n    })\n    .filter('objectFilter', function () {\n        return function (items, search) {\n            var result = [];\n            search = search ? search.toLowerCase() : '';\n            angular.forEach(items, function (value, key) {\n                if (value.name.toLowerCase().indexOf(search) !== -1) {\n                    result.push(value);\n                }\n            });\n            return result;\n\n        }\n    });\n\nangular.module('app.addArticle', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('addArticle', {\n            url: '/addArticle',\n            templateUrl: 'app/addArticle/addArticle.html',\n            controller: 'AddArticleCtrl'\n        });\n    }])\n\n    .controller('AddArticleCtrl', [\"$scope\", \"articles\", \"$log\", function ($scope, articles, $log) {\n        $scope.selected = {};\n        $scope.selected.platform = {};\n        $scope.selected.fsk = '0';\n        $scope.isTouched = false;\n        $scope.isPriceInvalid = false;\n        $scope.isPriceTouched = false;\n        $scope.isCustomGenre = false;\n        $scope.genreButtonText = 'Neues Genre anlegen';\n\n        articles.getAllGenres()\n            .then(function (response) {\n                $scope.genres = response;\n            }, function (error) {\n                $log.error(error);\n            });\n\n        function validatePrice(input) {\n            return /(?=.)^\\$?(([1-9][0-9]{0,2}(,[0-9]{3})*)|[0-9]+)?(\\.[0-9]{1,2})?$/.test(input);\n        }\n\n        $scope.changeInputStyle = function () {\n            $scope.isCustomGenre ? $scope.isCustomGenre = false : $scope.isCustomGenre = true;\n            $scope.genreButtonText == 'Neues Genre anlegen' ? $scope.genreButtonText = 'Vorhandenes Genre auswählen' : $scope.genreButtonText = 'Neues Genre anlegen';\n        };\n\n        $scope.priceValidation = function () {\n            $scope.isPriceTouched = true;\n            !validatePrice($scope.price) ? $scope.isPriceInvalid = true : $scope.isPriceInvalid = false;\n        };\n\n        $scope.addArticle = function () {\n            $scope.isTouched = true;\n            $scope.isPriceTouched = true;\n            $scope.isPriceInvalid = false;\n            if ($scope.title && ((!selected.genre && !isCustomGenre) || (isCustomGenre && !customGenre)) && $scope.price && ($scope.selected.platform.wiiu ||\n                $scope.selected.platform.windows || $scope.selected.platform.ps || $scope.selected.platform.xbox ||\n                $scope.selected.platform.osx) && $scope.release && $scope.language && $scope.minRam &&\n                $scope.minProcessor && $scope.description) {\n                if (!validatePrice($scope.price)) {\n                    toastr.warning('Ungültiger Preis!');\n                    $scope.isPriceInvalid = true;\n                } else {\n                    toastr.success('Top');\n                }\n            } else {\n                toastr.warning('Fehlende Informationen!');\n            }\n        }\n    }]);\n\nangular.module('app.cart', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('cart', {\n            url: '/cart',\n            templateUrl: 'app/cart/cart.html',\n            controller: 'CartCtrl'\n        });\n    }])\n\n    .controller('CartCtrl', [\"localStorageService\", \"$scope\", \"$rootScope\", function (localStorageService, $scope, $rootScope) {\n        // cart only\n        var cart = localStorageService.get('cart');\n        // articles only\n        var articles = localStorageService.get('articles');\n        // cart and articles merged\n        $scope.cart = {};\n\n        $scope.updateTotalPrice = function () {\n            $scope.totalPrice = 0;\n            angular.forEach($scope.cart, function (item) {\n                $scope.totalPrice += item.quantity * item.price;\n            });\n        };\n\n        // merge cart and articles\n        angular.forEach(articles, function (article) {\n            angular.forEach(cart, function (item) {\n                if (item.itemId == article.id) {\n                    var newObject = article;\n                    newObject.quantity = item.quantity;\n                    console.log(newObject);\n                    $scope.cart[item.itemId] = newObject;\n                }\n            });\n        });\n        $scope.updateTotalPrice();\n\n        $scope.quantityChange = function (id) {\n            cart[id].quantity = parseInt($scope.cart[id].quantity);\n            $scope.updateTotalPrice();\n            localStorageService.set('cart', cart);\n            $rootScope.$emit('itemAddedToCart');\n        };\n\n        $scope.remove = function (id) {\n            delete $scope.cart[id];\n            delete cart[id];\n            $scope.updateTotalPrice();\n            localStorageService.set('cart', cart);\n            $rootScope.$emit('itemAddedToCart');\n        }\n    }]);\n\nangular.module('app.gameDetail', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('gameDetail', {\n            url: '/gameDetail/:id',\n            templateUrl: 'app/gameDetail/gameDetail.html',\n            controller: 'GameDetailCtrl'\n        });\n    }])\n\n    .controller('GameDetailCtrl', [\"$scope\", \"$http\", \"$stateParams\", \"localStorageService\", \"$rootScope\", \"$uibModal\", function ($scope, $http, $stateParams, localStorageService, $rootScope, $uibModal) {\n        $scope.tab = {};\n        $scope.tab.active = 'description';\n        $scope.quantity = 1;\n\n        var user = localStorageService.get('user') || {};\n        var userName = user.userName;\n\n        var calculateAverageStars = function (data) {\n            var count = 0;\n            var stars = 0;\n            angular.forEach(data, function (item) {\n                count++;\n                stars += item.stars;\n            });\n            return stars / count;\n        };\n\n        $scope.changeTab = function (type) {\n            $scope.tab.active = type;\n        };\n\n        var id = $stateParams.id;\n        $scope.articles = localStorageService.get('articles');\n        $scope.actualGame = $scope.articles[id];\n\n        $scope.stars = calculateAverageStars($scope.actualGame.reviews);\n        document.getElementById(\"description\").innerHTML = $scope.actualGame.description;\n\n        $scope.toCart = function () {\n            if ($scope.quantity >= 1) {\n                var cart = localStorageService.get('cart') || {};\n                if (cart[$scope.actualGame.id] && cart[$scope.actualGame.id].quantity) {\n                    cart[$scope.actualGame.id].quantity = parseInt(cart[$scope.actualGame.id].quantity) + parseInt($scope.quantity)\n                } else {\n                    cart[$scope.actualGame.id] = {\n                        itemId: $scope.actualGame.id,\n                        quantity: parseInt($scope.quantity)\n                    };\n                }\n                localStorageService.set('cart', cart);\n                $rootScope.$emit('itemAddedToCart');\n                toastr.success('Artikel erfolgreich ' + $scope.quantity + 'x in den Warenkorb gelegt!');\n                toastr.success('<img src=\"assets/img/giphy.gif\" ng-show=\"inCart\"/>');\n                $scope.quantity = 1;\n            } else {\n                toastr.warning('Bitte geben Sie eine gültige Zahl ein!')\n            }\n        };\n\n        $scope.starsActivator = {};\n        $scope.numbers = [1, 2, 3, 4, 5];\n        for (var i = 0; i <= 4; i++) {\n            $scope.starsActivator[$scope.numbers[i]] = false;\n        }\n\n        $scope.starHover = function (number) {\n            while (number > 0) {\n                $scope.starsActivator[number] = true;\n                number--;\n            }\n        };\n\n        $scope.leave = function () {\n            for (var i = 0; i <= 4; i++) {\n                $scope.starsActivator[$scope.numbers[i]] = false;\n            }\n        };\n\n        $scope.rate = function (stars) {\n            if (userName) {\n                var newReviewId = 1;\n                do {\n                    newReviewId++;\n                } while ($scope.actualGame.reviews[newReviewId]);\n                var title = '';\n                var message = '';\n                angular.forEach($scope.actualGame.reviews, function (review) {\n                    if (review.author == user) {\n                        title = review.title;\n                        message = review.message;\n                        newReviewId = review.id;\n                    }\n                });\n                var modalInstance = $uibModal.open({\n                    animation: true,\n                    templateUrl: 'app/gameDetail/rating/rating.html',\n                    controller: 'RatingCtrl',\n                    resolve: {\n                        stars: function () {\n                            return stars;\n                        },\n                        title: function () {\n                            return title;\n                        },\n                        message: function () {\n                            return message;\n                        }\n                    }\n                });\n\n                modalInstance.result.then(function (result) {\n                    $scope.actualGame.reviews[newReviewId] = {\n                        id: newReviewId,\n                        stars: result.stars,\n                        title: result.title,\n                        message: result.message,\n                        author: userName\n                    };\n                    $scope.articles[id].reviews = $scope.actualGame.reviews;\n                    localStorageService.set('articles', $scope.articles);\n                    $scope.stars = calculateAverageStars($scope.actualGame.reviews);\n                    toastr.success('Bewertung hinzugefügt!');\n                }, function () {\n                    console.log('Modal dismissed');\n                });\n            } else {\n                toastr.warning('Bitte loggen Sie sich zuerst ein!');\n            }\n        };\n    }]);\n\nangular.module('app.genre', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('genre', {\n            url: '/genre/:name',\n            templateUrl: 'app/genre/genre.html',\n            controller: 'GenreCtrl'\n        });\n    }])\n\n    .controller('GenreCtrl', [\"$stateParams\", \"localStorageService\", \"$scope\", function ($stateParams, localStorageService, $scope) {\n        // TODO: order objects by id\n        $scope.searchInout = {};\n        $scope.genre = $stateParams.name;\n        var articles = localStorageService.get('articles');\n        $scope.articles = {};\n        $scope.isArticles = false;\n        if ($scope.genre != 'Alle Spiele') {\n            angular.forEach(articles, function (item) {\n                if (item.genre == $scope.genre) {\n                    $scope.isArticles = true;\n                    $scope.articles[item.id] = item;\n                }\n            });\n        } else {\n            $scope.isArticles = true;\n            $scope.articles = articles;\n        }\n    }]);\n\nangular.module('app.home', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('home', {\n            url: '/home',\n            templateUrl: 'app/home/home.html',\n            controller: 'HomeCtrl'\n        });\n    }])\n\n    .controller('HomeCtrl', function () {\n\n    });\n\nangular.module('app.login', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('login', {\n            url: '/login',\n            templateUrl: 'app/login/login.html',\n            controller: 'LoginCtrl'\n        });\n    }])\n\n    .controller('LoginCtrl', [\"$scope\", \"$state\", \"localStorageService\", \"$rootScope\", \"$http\", \"$log\", function ($scope, $state, localStorageService, $rootScope, $http, $log) {\n        $scope.isFormTouched = false;\n        var user = localStorageService.get('user') || {};\n        var toCheckout = localStorageService.get('fromCheckout');\n        if (user.userName) {\n            toastr.info('Sie sind bereits eingeloogt als \"' + user.userName + '\"!');\n            $state.go('home');\n        }\n        $scope.data = {};\n        $scope.data.password = '';\n        $scope.data.userName = '';\n\n        //Trigger Login when enter pressed\n        $(\"#username\").keydown(function (event) {\n            if (event.keyCode == 13) {\n                $(\"#submit\").click();\n            }\n        });\n        $(\"#password\").keydown(function (event) {\n            if (event.keyCode == 13) {\n                $(\"#submit\").click();\n            }\n        });\n\n        $scope.login = function () {\n            $scope.isFormTouched = true;\n            if (!$scope.data.userName || !$scope.data.password) {\n                toastr.warning('<img src=\"assets/img/Epic_Mass_Facepalm.gif\"/>');\n                toastr.warning('You had one Job!');\n            } else {\n                toastr.success('Login war erfolgreich.');\n                var role = 'admin';\n                var user = {\n                    userName: $scope.data.userName,\n                    role: role\n                };\n                localStorageService.set('user', user);\n                $rootScope.$emit('login');\n                localStorageService.remove('checkout');\n                if (toCheckout) {\n                    $state.go('checkout');\n                } else {\n                    $state.go('home');\n                }\n                // $http.get('http://localhost:8080/rest/user/' + $scope.data.userName)\n                //     .then(function (response) {\n                //         if (response.data.password === $scope.data.password) {\n                //             toastr.success('Login war erfolgreich.');\n                //             var role = response.Rolle;\n                //             var user = {\n                //                 userName: $scope.data.userName,\n                //                 role: role\n                //             };\n                //             localStorageService.set('user', user);\n                //             $rootScope.$emit('login');\n                //             localStorageService.remove('checkout');\n                //             if (toCheckout) {\n                //                 $state.go('checkout');\n                //             } else {\n                //                 $state.go('home');\n                //             }\n                //         } else {\n                //             toastr.warning('Benutzername und Passwort stimmen nicht überein!');\n                //         }\n                //     }, function (error) {\n                //         $log.error(error);\n                //         toastr.error('Fehler bei der Verbindung! Status ' + error.status);\n                //     });\n            }\n        }\n    }]);\n\nangular.module('app.newGames', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('newGames', {\n            url: '/newGames',\n            templateUrl: 'app/newGames/newGames.html',\n            controller: 'NewGamesCtrl'\n        });\n    }])\n\n    .controller('NewGamesCtrl', function () {\n\n    });\n\nangular.module('app.orders', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('orders', {\n            url: '/orders',\n            templateUrl: 'app/orders/orders.html',\n            controller: 'OrdersCtrl'\n        });\n    }])\n\n    .controller('OrdersCtrl', [\"$scope\", \"$http\", \"localStorageService\", function ($scope, $http, localStorageService) {\n        var date = new Date();\n        console.log(date);\n        $http.get('../assets/json/orders.json')\n            .then(function (response) {\n                localStorageService.set('orders', response.data);\n                $scope.orders = response.data;\n                console.log($scope.orders);\n            }, function (error) {\n                var data = localStorageService.get('orders');\n                if (data) {\n                    toastr.warning('Bestellungen konnten nicht geladen werden! Daten sind möglicherweise veraltet.');\n                    $scope.orders = data;\n                } else {\n                    toastr.error('Bestellungen konnten nicht geladen werden! Bitte verbinden Sie sich mit dem Internet.');\n                }\n                console.log(error);\n            });\n    }]);\n\nangular.module('app')\n    .factory('articles', [\"$q\", \"$http\", \"localStorageService\", function ($q, $http, localStorageService) {\n        var service = {};\n\n        service.getAllArticles = function () {\n            var q = $q.defer();\n            $http.get('assets/json/articles.json')\n                .then(function (response) {\n                    //Mapping\n                    var mapped = _mapArticles(response.data);\n                    localStorageService.set('articles', mapped);\n                    q.resolve(mapped);\n                }, function (error) {\n                    q.reject(error);\n                });\n            return q.promise;\n        };\n\n        service.getAllGenres = function () {\n            var q = $q.defer();\n            var genres = localStorageService.get('genres') || [];\n            if (!genres) {\n                this.getAllArticles()\n                    .then(function () {\n                        genres = localStorageService.get('genres') || [];\n                        q.resolve(genres);\n                    }, function (error) {\n                        q.reject(error);\n                    })\n            } else {\n                q.resolve(genres);\n            }\n            return q.promise;\n        };\n\n        var _mapArticles = function (articles) {\n            var mappedItems = {};\n            var genres = [];\n\n            angular.forEach(articles, function (item) {\n                // Genres\n                var isNewGenre = true;\n                angular.forEach(genres, function (genre) {\n                    if (item.genre == genre) {\n                        isNewGenre = false;\n                    }\n                });\n                if (isNewGenre) {\n                    genres.push(item.genre);\n                }\n\n                var mappedItem = {\n                    id: item.id,\n                    name: item.name,\n                    genre: item.genre,\n                    price: item.price,\n                    fsk: item.fsk,\n                    platforms: item.platforms,\n                    release: item.release,\n                    language: item.language,\n                    minRam: item.minRam,\n                    minProcessor: item.minProcessor,\n                    image: item.image,\n                    description: item.description,\n                    reviews: _mapReviews(item.reviews)\n                };\n                mappedItems[mappedItem.id] = mappedItem;\n            });\n            localStorageService.set('genres', genres);\n            return mappedItems;\n        };\n        var _mapReviews = function (reviews) {\n            var mappedItems = {};\n            angular.forEach(reviews, function (item) {\n                var mappedItem = {\n                    id: item.id,\n                    stars: item.stars,\n                    author: item.author,\n                    title: item.title,\n                    message: item.message\n                };\n                mappedItems[mappedItem.id] = mappedItem;\n            });\n            return mappedItems;\n        };\n        return service;\n    }]);\n\nangular.module('app.topGames', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('topGames', {\n            url: '/topGames',\n            templateUrl: 'app/topGames/topGames.html',\n            controller: 'TopGamesCtrl'\n        });\n    }])\n\n    .controller('TopGamesCtrl', function () {\n\n    });\n\nangular.module('app.userAdministration', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('userAdministration', {\n            url: '/userAdministration',\n            templateUrl: 'app/userAdministration/userAdministration.html',\n            controller: 'UserAdministrationCtrl'\n        });\n    }])\n\n    .controller('UserAdministrationCtrl', function () {\n\n    });\n\nangular.module('app.checkout', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('checkout', {\n            url: '/checkout',\n            templateUrl: 'app/cart/checkout/checkout.html',\n            controller: 'CheckoutCtrl'\n        });\n    }])\n\n    .controller('CheckoutCtrl', [\"$scope\", \"localStorageService\", \"$state\", function ($scope, localStorageService, $state) {\n        var user = localStorageService.get('user') || {};\n        if (!user.userName) {\n            localStorageService.set('fromCheckout', true);\n            toastr.info('Bitte melden Sie sich an.');\n            $state.go('login');\n        }\n        var cart = localStorageService.get('cart') || {};\n        var articles = localStorageService.get('articles') || {};\n        $scope.cart = {};\n\n        $scope.updateTotalPrice = function () {\n            $scope.totalPrice = 0;\n            angular.forEach($scope.cart, function (item) {\n                $scope.totalPrice += item.quantity * item.price;\n            });\n        };\n\n        angular.forEach(articles, function (article) {\n            angular.forEach(cart, function (item) {\n                if (item.itemId == article.id) {\n                    var newObject = article;\n                    newObject.quantity = item.quantity;\n                    $scope.cart[item.itemId] = newObject;\n                }\n            });\n        });\n        $scope.updateTotalPrice();\n\n    }]);\n\nangular.module('app.gameDetail')\n    .controller('RatingCtrl', [\"$scope\", \"$uibModalInstance\", \"stars\", \"title\", \"message\", function ($scope, $uibModalInstance, stars, title, message) {\n        \n        $scope.stars = stars;\n        $scope.message = message;\n        $scope.title = title;\n\n        $scope.checkValid = function () {\n            $scope.message && $scope.title ? $scope.isValid = true : $scope.isValid = false;\n        };\n        $scope.checkValid();\n\n        $scope.submit = function () {\n            var result = {\n                title: $scope.title,\n                message: $scope.message,\n                stars: $scope.stars\n            };\n            $uibModalInstance.close(result);\n        };\n        $scope.cancel = function () {\n            $uibModalInstance.dismiss();\n        };\n    }]);\n\nangular.module('app.passwordForget', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('passwordForget', {\n            url: '/passwordForget',\n            templateUrl: 'app/login/passwordForget/passwordForget.html',\n            controller: 'PasswordForgetCtrl'\n        });\n    }])\n\n    .controller('PasswordForgetCtrl', [\"$scope\", function ($scope) {\n        $scope.data = {};\n        $scope.data.email = '';\n        $scope.submit = function () {\n            if (!$scope.email) {\n                toastr.warning('Ungültige Email-Adresse!');\n            } else {\n                toastr.success('Gültige Eingabe.');\n            }\n        }\n    }]);\n\nangular.module('app.register', [])\n\n    .config([\"$stateProvider\", function ($stateProvider) {\n        $stateProvider.state('register', {\n            url: '/register',\n            templateUrl: 'app/login/register/register.html',\n            controller: 'RegisterCtrl'\n        });\n    }])\n\n    .controller('RegisterCtrl', [\"$scope\", \"$http\", \"$log\", function ($scope, $http, $log) {\n        $scope.data = {};\n        $scope.data.userName = '';\n        $scope.data.email = '';\n        $scope.data.password = '';\n        $scope.data.passwordConfirm = '';\n\n        $scope.register = function () {\n            if (!$scope.data.userName || !$scope.data.password || !$scope.data.passwordConfirm) {\n                toastr.warning('Alle Felder müssen ausgefüllt werden!', 'Fehlende Informationen!')\n            } else if (!$scope.data.email) {\n                toastr.warning('Die Email-Adresse ist ungültig!', 'Fehlerhafte Informationen!')\n            } else if ($scope.data.password != $scope.data.passwordConfirm) {\n                toastr.warning('Die Passwörter stimmen nicht überein.', 'Fehlerhafte Informationen!')\n            } else {\n                var user = {\n                    id: '0000',\n                    username: $scope.data.userName,\n                    password: $scope.data.password,\n                    email: $scope.data.email,\n                    role: 'user'\n                };\n                // $http.post('http://localhost:8080/rest/user/' + JSON.stringify(user)+'');\n            }\n        }\n    }]);\n\n})(window, document);\n"],"sourceRoot":"/source/"}