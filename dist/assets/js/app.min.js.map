{"version":3,"sources":["app.js"],"names":["window","document","undefined","angular","module","config","$urlRouterProvider","localStorageServiceProvider","otherwise","setPrefix","run","localStorageService","articles","$rootScope","$log","getAllArticles","then","response","$emit","set","error","data","get","toastr","warning","controller","$scope","$http","$state","remove","$on","event","toState","toParams","currentStateName","name","currentStateParams","countCartItems","getUserData","getAllGenres","genres","logout","success","go","user","userName","userRole","role","cart","quantity","forEach","item","directive","restrict","link","scope","element","attrs","bind","isImage","$apply","$stateProvider","state","url","templateUrl","$stateParams","$uibModal","tab","active","calculateAverageStars","count","stars","changeTab","type","id","actualGame","reviews","getElementById","innerHTML","description","toCart","parseInt","itemId","starsActivator","numbers","i","starHover","number","leave","rate","newReviewId","title","message","review","author","modalInstance","open","animation","resolve","result","console","log","validatePrice","input","test","selected","platform","fsk","isTouched","isPriceInvalid","isPriceTouched","isCustomGenre","genreButtonText","changeInputStyle","priceValidation","price","addArticle","genre","customGenre","wiiu","windows","ps","xbox","osx","release","language","minRam","minProcessor","updateTotalPrice","totalPrice","article","newObject","quantityChange","isArticles","date","Date","orders","isFormTouched","toCheckout","info","password","$","keydown","keyCode","click","login","Rolle","status","factory","$q","service","q","defer","mapped","_mapArticles","reject","promise","this","mappedItems","isNewGenre","push","mappedItem","platforms","image","_mapReviews","$uibModalInstance","checkValid","isValid","submit","close","cancel","dismiss","email","passwordConfirm","register","username"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(window, document, undefined) {\n'use strict';\nangular.module('app', [\r\n    'ui.router',\r\n    'ui.bootstrap',\r\n    'LocalStorageModule',\r\n    'ngAnimate',\r\n    'templates',\r\n    'textAngular',\r\n    // 'ngSanitize',\r\n    'app.home',\r\n    'app.addArticle',\r\n    'app.topGames',\r\n    'app.newGames',\r\n    'app.gameDetail',\r\n    'app.login',\r\n    'app.genre',\r\n    'app.cart',\r\n    'app.checkout',\r\n    'app.orders',\r\n    'app.register',\r\n    'app.passwordForget'\r\n])\r\n    .config([\"$urlRouterProvider\", \"localStorageServiceProvider\", function ($urlRouterProvider, localStorageServiceProvider) {\r\n        $urlRouterProvider.otherwise('/home');\r\n        localStorageServiceProvider.setPrefix('webshop');\r\n    }])\r\n    .run([\"localStorageService\", \"articles\", \"$rootScope\", \"$log\", function (localStorageService, articles, $rootScope, $log) {\r\n        articles.getAllArticles()\r\n            .then(function (response) {\r\n                $rootScope.$emit('genresLoaded');\r\n                localStorageService.set('articles', response);\r\n            }, function (error) {\r\n                var data = localStorageService.get('articles');\r\n                if (data) {\r\n                    toastr.warning('Artikel konnten nicht neu geladen werden. Daten sind möglicherweise veraltet.')\r\n                } else {\r\n                    toastr.error('Artikel konnten nicht geladen werden.');\r\n                }\r\n                $log.error(error);\r\n            });\r\n        localStorageService.set('fromCheckout', false);\r\n    }])\r\n    .controller('AppCtrl', [\"$scope\", \"$rootScope\", \"$http\", \"localStorageService\", \"$state\", \"articles\", \"$log\", function ($scope, $rootScope, $http, localStorageService, $state, articles, $log) {\r\n        localStorageService.remove('checkout');\r\n        $rootScope.$on('$stateChangeSuccess',\r\n            function (event, toState, toParams) {\r\n                $scope.currentStateName = toState.name;\r\n                $scope.currentStateParams = toParams.name;\r\n            });\r\n\r\n        $rootScope.$on('itemAddedToCart', function () {\r\n            countCartItems();\r\n        });\r\n\r\n        $rootScope.$on('login', function () {\r\n            getUserData();\r\n        });\r\n        \r\n        $rootScope.$on('genresLoaded', function () {\r\n             articles.getAllGenres()\r\n                 .then(function (response) {\r\n                     $scope.genres = response;\r\n                 }, function (error) {\r\n                     $log.error(error);\r\n                 })\r\n        });\r\n\r\n        $scope.logout = function () {\r\n            localStorageService.remove('user');\r\n            localStorageService.remove('orders');\r\n            localStorageService.remove('checkout');\r\n            // update user data\r\n            $rootScope.$emit('login');\r\n            $rootScope.$emit('itemAddedToCart');\r\n            toastr.success('Logout war erfolgreich.');\r\n            $state.go('login');\r\n        };\r\n\r\n        var getUserData = function () {\r\n            var user = localStorageService.get('user') || {};\r\n            $scope.userName = user.userName || 'Benutzer';\r\n            $scope.userRole = user.role;\r\n        };\r\n        getUserData();\r\n\r\n        var countCartItems = function () {\r\n            var cart = localStorageService.get('cart');\r\n            $scope.quantity = 0;\r\n            angular.forEach(cart, function (item) {\r\n                $scope.quantity += item.quantity;\r\n            });\r\n        };\r\n        countCartItems();\r\n    }])\r\n    .directive('imageonload', function() {\r\n        return {\r\n            restrict: 'A',\r\n            link: function(scope, element, attrs) {\r\n                element.bind('load', function() {\r\n                    scope.isImage = true;\r\n                    scope.$apply();\r\n                });\r\n                element.bind('error', function(){\r\n                    scope.isImage = false;\r\n                    scope.$apply();\r\n                });\r\n            }\r\n        };\r\n    });\n\r\nangular.module('app.gameDetail', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('gameDetail', {\r\n            url: '/gameDetail/:id',\r\n            templateUrl: 'app/gameDetail/gameDetail.html',\r\n            controller: 'GameDetailCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('GameDetailCtrl', [\"$scope\", \"$http\", \"$stateParams\", \"localStorageService\", \"$rootScope\", \"$uibModal\", function ($scope, $http, $stateParams, localStorageService, $rootScope, $uibModal) {\r\n        $scope.tab = {};\r\n        $scope.tab.active = 'description';\r\n        $scope.quantity = 1;\r\n\r\n        var user = localStorageService.get('user') || {};\r\n        var userName = user.userName;\r\n\r\n        var calculateAverageStars = function (data) {\r\n            var count = 0;\r\n            var stars = 0;\r\n            angular.forEach(data, function (item) {\r\n                count++;\r\n                stars += item.stars;\r\n            });\r\n            return stars / count;\r\n        };\r\n\r\n        $scope.changeTab = function (type) {\r\n            $scope.tab.active = type;\r\n        };\r\n\r\n        var id = $stateParams.id;\r\n        $scope.articles = localStorageService.get('articles');\r\n        $scope.actualGame = $scope.articles[id];\r\n\r\n        $scope.stars = calculateAverageStars($scope.actualGame.reviews);\r\n        document.getElementById(\"description\").innerHTML = $scope.actualGame.description;\r\n\r\n        $scope.toCart = function () {\r\n            if ($scope.quantity >= 1) {\r\n                var cart = localStorageService.get('cart') || {};\r\n                if (cart[$scope.actualGame.id] && cart[$scope.actualGame.id].quantity) {\r\n                    cart[$scope.actualGame.id].quantity = parseInt(cart[$scope.actualGame.id].quantity) + parseInt($scope.quantity)\r\n                } else {\r\n                    cart[$scope.actualGame.id] = {\r\n                        itemId: $scope.actualGame.id,\r\n                        quantity: parseInt($scope.quantity)\r\n                    };\r\n                }\r\n                localStorageService.set('cart', cart);\r\n                $rootScope.$emit('itemAddedToCart');\r\n                toastr.success('Artikel erfolgreich ' + $scope.quantity + 'x in den Warenkorb gelegt!');\r\n                toastr.success('<img src=\"assets/img/giphy.gif\" ng-show=\"inCart\"/>');\r\n                $scope.quantity = 1;\r\n            } else {\r\n                toastr.warning('Bitte geben Sie eine gültige Zahl ein!')\r\n            }\r\n        };\r\n\r\n        $scope.starsActivator = {};\r\n        $scope.numbers = [1, 2, 3, 4, 5];\r\n        for (var i = 0; i <= 4; i++) {\r\n            $scope.starsActivator[$scope.numbers[i]] = false;\r\n        }\r\n\r\n        $scope.starHover = function (number) {\r\n            while (number > 0) {\r\n                $scope.starsActivator[number] = true;\r\n                number--;\r\n            }\r\n        };\r\n\r\n        $scope.leave = function () {\r\n            for (var i = 0; i <= 4; i++) {\r\n                $scope.starsActivator[$scope.numbers[i]] = false;\r\n            }\r\n        };\r\n\r\n        $scope.rate = function (stars) {\r\n            if (userName) {\r\n                var newReviewId = 1;\r\n                do {\r\n                    newReviewId++;\r\n                } while ($scope.actualGame.reviews[newReviewId]);\r\n                var title = '';\r\n                var message = '';\r\n                angular.forEach($scope.actualGame.reviews, function (review) {\r\n                    if (review.author == user) {\r\n                        title = review.title;\r\n                        message = review.message;\r\n                        newReviewId = review.id;\r\n                    }\r\n                });\r\n                var modalInstance = $uibModal.open({\r\n                    animation: true,\r\n                    templateUrl: 'app/gameDetail/rating/rating.html',\r\n                    controller: 'RatingCtrl',\r\n                    resolve: {\r\n                        stars: function () {\r\n                            return stars;\r\n                        },\r\n                        title: function () {\r\n                            return title;\r\n                        },\r\n                        message: function () {\r\n                            return message;\r\n                        }\r\n                    }\r\n                });\r\n\r\n                modalInstance.result.then(function (result) {\r\n                    $scope.actualGame.reviews[newReviewId] = {\r\n                        id: newReviewId,\r\n                        stars: result.stars,\r\n                        title: result.title,\r\n                        message: result.message,\r\n                        author: userName\r\n                    };\r\n                    $scope.articles[id].reviews = $scope.actualGame.reviews;\r\n                    localStorageService.set('articles', $scope.articles);\r\n                    $scope.stars = calculateAverageStars($scope.actualGame.reviews);\r\n                    toastr.success('Bewertung hinzugefügt!');\r\n                }, function () {\r\n                    console.log('Modal dismissed');\r\n                });\r\n            } else {\r\n                toastr.warning('Bitte loggen Sie sich zuerst ein!');\r\n            }\r\n        };\r\n    }]);\n\r\nangular.module('app.addArticle', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('addArticle', {\r\n            url: '/addArticle',\r\n            templateUrl: 'app/addArticle/addArticle.html',\r\n            controller: 'AddArticleCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('AddArticleCtrl', [\"$scope\", \"articles\", \"$log\", function ($scope, articles, $log) {\r\n        $scope.selected = {};\r\n        $scope.selected.platform = {};\r\n        $scope.selected.fsk = '0';\r\n        $scope.isTouched = false;\r\n        $scope.isPriceInvalid = false;\r\n        $scope.isPriceTouched = false;\r\n        $scope.isCustomGenre = false;\r\n        $scope.genreButtonText = 'Neues Genre anlegen';\r\n\r\n        articles.getAllGenres()\r\n            .then(function (response) {\r\n                $scope.genres = response;\r\n            }, function (error) {\r\n                $log.error(error);\r\n            });\r\n\r\n        function validatePrice(input) {\r\n            return /(?=.)^\\$?(([1-9][0-9]{0,2}(,[0-9]{3})*)|[0-9]+)?(\\.[0-9]{1,2})?$/.test(input);\r\n        }\r\n\r\n        $scope.changeInputStyle = function () {\r\n            $scope.isCustomGenre ? $scope.isCustomGenre = false : $scope.isCustomGenre = true;\r\n            $scope.genreButtonText == 'Neues Genre anlegen' ? $scope.genreButtonText = 'Vorhandenes Genre auswählen' : $scope.genreButtonText = 'Neues Genre anlegen';\r\n        };\r\n\r\n        $scope.priceValidation = function () {\r\n            $scope.isPriceTouched = true;\r\n            !validatePrice($scope.price) ? $scope.isPriceInvalid = true : $scope.isPriceInvalid = false;\r\n        };\r\n\r\n        $scope.addArticle = function () {\r\n            $scope.isTouched = true;\r\n            $scope.isPriceTouched = true;\r\n            $scope.isPriceInvalid = false;\r\n            if ($scope.title && ((!selected.genre && !isCustomGenre) || (isCustomGenre && !customGenre)) && $scope.price && ($scope.selected.platform.wiiu ||\r\n                $scope.selected.platform.windows || $scope.selected.platform.ps || $scope.selected.platform.xbox ||\r\n                $scope.selected.platform.osx) && $scope.release && $scope.language && $scope.minRam &&\r\n                $scope.minProcessor && $scope.description) {\r\n                if (!validatePrice($scope.price)) {\r\n                    toastr.warning('Ungültiger Preis!');\r\n                    $scope.isPriceInvalid = true;\r\n                } else {\r\n                    toastr.success('Top');\r\n                }\r\n            } else {\r\n                toastr.warning('Fehlende Informationen!');\r\n            }\r\n        }\r\n    }]);\n\r\nangular.module('app.cart', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('cart', {\r\n            url: '/cart',\r\n            templateUrl: 'app/cart/cart.html',\r\n            controller: 'CartCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('CartCtrl', [\"localStorageService\", \"$scope\", \"$rootScope\", function (localStorageService, $scope, $rootScope) {\r\n        // cart only\r\n        var cart = localStorageService.get('cart');\r\n        // articles only\r\n        var articles = localStorageService.get('articles');\r\n        // cart and articles merged\r\n        $scope.cart = {};\r\n\r\n        $scope.updateTotalPrice = function () {\r\n            $scope.totalPrice = 0;\r\n            angular.forEach($scope.cart, function (item) {\r\n                $scope.totalPrice += item.quantity * item.price;\r\n            });\r\n        };\r\n\r\n        // merge cart and articles\r\n        angular.forEach(articles, function (article) {\r\n            angular.forEach(cart, function (item) {\r\n                if (item.itemId == article.id) {\r\n                    var newObject = article;\r\n                    newObject.quantity = item.quantity;\r\n                    console.log(newObject);\r\n                    $scope.cart[item.itemId] = newObject;\r\n                }\r\n            });\r\n        });\r\n        $scope.updateTotalPrice();\r\n\r\n        $scope.quantityChange = function (id) {\r\n            cart[id].quantity = parseInt($scope.cart[id].quantity);\r\n            $scope.updateTotalPrice();\r\n            localStorageService.set('cart', cart);\r\n            $rootScope.$emit('itemAddedToCart');\r\n        };\r\n\r\n        $scope.remove = function (id) {\r\n            delete $scope.cart[id];\r\n            delete cart[id];\r\n            $scope.updateTotalPrice();\r\n            localStorageService.set('cart', cart);\r\n            $rootScope.$emit('itemAddedToCart');\r\n        }\r\n    }]);\n\r\nangular.module('app.genre', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('genre', {\r\n            url: '/genre/:name',\r\n            templateUrl: 'app/genre/genre.html',\r\n            controller: 'GenreCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('GenreCtrl', [\"$stateParams\", \"localStorageService\", \"$scope\", function ($stateParams, localStorageService, $scope) {\r\n        // TODO: order objects by id\r\n        $scope.genre = $stateParams.name;\r\n        var articles = localStorageService.get('articles');\r\n        $scope.articles = {};\r\n        $scope.isArticles = false;\r\n        if ($scope.genre != 'Alle Spiele') {\r\n            angular.forEach(articles, function (item) {\r\n                if (item.genre == $scope.genre) {\r\n                    $scope.isArticles = true;\r\n                    $scope.articles[item.id] = item;\r\n                }\r\n            });\r\n        } else {\r\n            $scope.isArticles = true;\r\n            $scope.articles = articles;\r\n        }\r\n    }]);\n\r\nangular.module('app.home', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('home', {\r\n            url: '/home',\r\n            templateUrl: 'app/home/home.html',\r\n            controller: 'HomeCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('HomeCtrl', function () {\r\n\r\n    });\n\r\nangular.module('app.orders', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('orders', {\r\n            url: '/orders',\r\n            templateUrl: 'app/orders/orders.html',\r\n            controller: 'OrdersCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('OrdersCtrl', [\"$scope\", \"$http\", \"localStorageService\", function ($scope, $http, localStorageService) {\r\n        var date = new Date();\r\n        console.log(date);\r\n        $http.get('../assets/json/orders.json')\r\n            .then(function (response) {\r\n                localStorageService.set('orders', response.data);\r\n                $scope.orders = response.data;\r\n                console.log($scope.orders);\r\n            }, function (error) {\r\n                var data = localStorageService.get('orders');\r\n                if (data) {\r\n                    toastr.warning('Bestellungen konnten nicht geladen werden! Daten sind möglicherweise veraltet.');\r\n                    $scope.orders = data;\r\n                } else {\r\n                    toastr.error('Bestellungen konnten nicht geladen werden! Bitte verbinden Sie sich mit dem Internet.');\r\n                }\r\n                console.log(error);\r\n            });\r\n    }]);\n\r\nangular.module('app.newGames', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('newGames', {\r\n            url: '/newGames',\r\n            templateUrl: 'app/newGames/newGames.html',\r\n            controller: 'NewGamesCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('NewGamesCtrl', function () {\r\n\r\n    });\n\r\nangular.module('app.login', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('login', {\r\n            url: '/login',\r\n            templateUrl: 'app/login/login.html',\r\n            controller: 'LoginCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('LoginCtrl', [\"$scope\", \"$state\", \"localStorageService\", \"$rootScope\", \"$http\", \"$log\", function ($scope, $state, localStorageService, $rootScope, $http, $log) {\r\n        $scope.isFormTouched = false;\r\n        var user = localStorageService.get('user') || {};\r\n        var toCheckout = localStorageService.get('fromCheckout');\r\n        if (user.userName) {\r\n            toastr.info('Sie sind bereits eingeloogt als \"' + user.userName + '\"!');\r\n            $state.go('home');\r\n        }\r\n        $scope.data = {};\r\n        $scope.data.password = '';\r\n        $scope.data.userName = '';\r\n\r\n        //Trigger Login when enter pressed\r\n        $(\"#username\").keydown(function (event) {\r\n            if (event.keyCode == 13) {\r\n                $(\"#submit\").click();\r\n            }\r\n        });\r\n        $(\"#password\").keydown(function (event) {\r\n            if (event.keyCode == 13) {\r\n                $(\"#submit\").click();\r\n            }\r\n        });\r\n\r\n        $scope.login = function () {\r\n            $scope.isFormTouched = true;\r\n            if (!$scope.data.userName || !$scope.data.password) {\r\n                toastr.warning('<img src=\"assets/img/Epic_Mass_Facepalm.gif\"/>');\r\n                toastr.warning('You had one Job!');\r\n            } else {\r\n                $http.get('http://localhost:8080/rest/user/' + $scope.data.userName)\r\n                    .then(function (response) {\r\n                        if (response.data.password === $scope.data.password) {\r\n                            toastr.success('Login war erfolgreich.');\r\n                            var role = response.Rolle;\r\n                            var user = {\r\n                                userName: $scope.data.userName,\r\n                                role: role\r\n                            };\r\n                            localStorageService.set('user', user);\r\n                            $rootScope.$emit('login');\r\n                            localStorageService.remove('checkout');\r\n                            if (toCheckout) {\r\n                                $state.go('checkout');\r\n                            } else {\r\n                                $state.go('home');\r\n                            }\r\n                        } else {\r\n                            toastr.warning('Benutzername und Passwort stimmen nicht überein!');\r\n                        }\r\n                    }, function (error) {\r\n                        $log.error(error);\r\n                        toastr.error('Fehler bei der Verbindung! Status ' + error.status);\r\n                    });\r\n            }\r\n        }\r\n    }]);\n\r\nangular.module('app')\r\n    .factory('articles', [\"$q\", \"$http\", \"localStorageService\", function ($q, $http, localStorageService) {\r\n        var service = {};\r\n\r\n        service.getAllArticles = function () {\r\n            var q = $q.defer();\r\n            $http.get('assets/json/articles.json')\r\n                .then(function (response) {\r\n                    //Mapping\r\n                    var mapped = _mapArticles(response.data);\r\n                    localStorageService.set('articles', mapped);\r\n                    q.resolve(mapped);\r\n                }, function (error) {\r\n                    q.reject(error);\r\n                });\r\n            return q.promise;\r\n        };\r\n\r\n        service.getAllGenres = function () {\r\n            var q = $q.defer();\r\n            var genres = localStorageService.get('genres') || [];\r\n            if (!genres) {\r\n                this.getAllArticles()\r\n                    .then(function () {\r\n                        genres = localStorageService.get('genres') || [];\r\n                        q.resolve(genres);\r\n                    }, function (error) {\r\n                        q.reject(error);\r\n                    })\r\n            } else {\r\n                q.resolve(genres);\r\n            }\r\n            return q.promise;\r\n        };\r\n\r\n        var _mapArticles = function (articles) {\r\n            var mappedItems = {};\r\n            var genres = [];\r\n\r\n            angular.forEach(articles, function (item) {\r\n                // Genres\r\n                var isNewGenre = true;\r\n                angular.forEach(genres, function (genre) {\r\n                    if (item.genre == genre) {\r\n                        isNewGenre = false;\r\n                    }\r\n                });\r\n                if (isNewGenre) {\r\n                    genres.push(item.genre);\r\n                }\r\n\r\n                var mappedItem = {\r\n                    id: item.id,\r\n                    name: item.name,\r\n                    genre: item.genre,\r\n                    price: item.price,\r\n                    fsk: item.fsk,\r\n                    platforms: item.platforms,\r\n                    release: item.release,\r\n                    language: item.language,\r\n                    minRam: item.minRam,\r\n                    minProcessor: item.minProcessor,\r\n                    image: item.image,\r\n                    description: item.description,\r\n                    reviews: _mapReviews(item.reviews)\r\n                };\r\n                mappedItems[mappedItem.id] = mappedItem;\r\n            });\r\n            localStorageService.set('genres', genres);\r\n            return mappedItems;\r\n        };\r\n        var _mapReviews = function (reviews) {\r\n            var mappedItems = {};\r\n            angular.forEach(reviews, function (item) {\r\n                var mappedItem = {\r\n                    id: item.id,\r\n                    stars: item.stars,\r\n                    author: item.author,\r\n                    title: item.title,\r\n                    message: item.message\r\n                };\r\n                mappedItems[mappedItem.id] = mappedItem;\r\n            });\r\n            return mappedItems;\r\n        };\r\n        return service;\r\n    }]);\n\r\nangular.module('app.topGames', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('topGames', {\r\n            url: '/topGames',\r\n            templateUrl: 'app/topGames/topGames.html',\r\n            controller: 'TopGamesCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('TopGamesCtrl', function () {\r\n\r\n    });\n\r\nangular.module('app.gameDetail')\r\n    .controller('RatingCtrl', [\"$scope\", \"$uibModalInstance\", \"stars\", \"title\", \"message\", function ($scope, $uibModalInstance, stars, title, message) {\r\n        \r\n        $scope.stars = stars;\r\n        $scope.message = message;\r\n        $scope.title = title;\r\n\r\n        $scope.checkValid = function () {\r\n            $scope.message && $scope.title ? $scope.isValid = true : $scope.isValid = false;\r\n        };\r\n        $scope.checkValid();\r\n\r\n        $scope.submit = function () {\r\n            var result = {\r\n                title: $scope.title,\r\n                message: $scope.message,\r\n                stars: $scope.stars\r\n            };\r\n            $uibModalInstance.close(result);\r\n        };\r\n        $scope.cancel = function () {\r\n            $uibModalInstance.dismiss();\r\n        };\r\n    }]);\n\r\nangular.module('app.checkout', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('checkout', {\r\n            url: '/checkout',\r\n            templateUrl: 'app/cart/checkout/checkout.html',\r\n            controller: 'CheckoutCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('CheckoutCtrl', [\"$scope\", \"localStorageService\", \"$state\", function ($scope, localStorageService, $state) {\r\n        var user = localStorageService.get('user') || {};\r\n        if (!user.userName) {\r\n            localStorageService.set('fromCheckout', true);\r\n            toastr.info('Bitte melden Sie sich an.');\r\n            $state.go('login');\r\n        }\r\n        var cart = localStorageService.get('cart') || {};\r\n        var articles = localStorageService.get('articles') || {};\r\n        $scope.cart = {};\r\n\r\n        $scope.updateTotalPrice = function () {\r\n            $scope.totalPrice = 0;\r\n            angular.forEach($scope.cart, function (item) {\r\n                $scope.totalPrice += item.quantity * item.price;\r\n            });\r\n        };\r\n\r\n        angular.forEach(articles, function (article) {\r\n            angular.forEach(cart, function (item) {\r\n                if (item.itemId == article.id) {\r\n                    var newObject = article;\r\n                    newObject.quantity = item.quantity;\r\n                    $scope.cart[item.itemId] = newObject;\r\n                }\r\n            });\r\n        });\r\n        $scope.updateTotalPrice();\r\n\r\n    }]);\n\r\nangular.module('app.passwordForget', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('passwordForget', {\r\n            url: '/passwordForget',\r\n            templateUrl: 'app/login/passwordForget/passwordForget.html',\r\n            controller: 'PasswordForgetCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('PasswordForgetCtrl', [\"$scope\", function ($scope) {\r\n        $scope.data = {};\r\n        $scope.data.email = '';\r\n        $scope.submit = function () {\r\n            if (!$scope.email) {\r\n                toastr.warning('Ungültige Email-Adresse!');\r\n            } else {\r\n                toastr.success('Gültige Eingabe.');\r\n            }\r\n        }\r\n    }]);\n\r\nangular.module('app.register', [])\r\n\r\n    .config([\"$stateProvider\", function ($stateProvider) {\r\n        $stateProvider.state('register', {\r\n            url: '/register',\r\n            templateUrl: 'app/login/register/register.html',\r\n            controller: 'RegisterCtrl'\r\n        });\r\n    }])\r\n\r\n    .controller('RegisterCtrl', [\"$scope\", \"$http\", \"$log\", function ($scope, $http, $log) {\r\n        $scope.data = {};\r\n        $scope.data.userName = '';\r\n        $scope.data.email = '';\r\n        $scope.data.password = '';\r\n        $scope.data.passwordConfirm = '';\r\n\r\n        $scope.register = function () {\r\n            if (!$scope.data.userName || !$scope.data.password || !$scope.data.passwordConfirm) {\r\n                toastr.warning('Alle Felder müssen ausgefüllt werden!', 'Fehlende Informationen!')\r\n            } else if (!$scope.data.email) {\r\n                toastr.warning('Die Email-Adresse ist ungültig!', 'Fehlerhafte Informationen!')\r\n            } else if ($scope.data.password != $scope.data.passwordConfirm) {\r\n                toastr.warning('Die Passwörter stimmen nicht überein.', 'Fehlerhafte Informationen!')\r\n            } else {\r\n                var user = {\r\n                    id: '0000',\r\n                    username: $scope.data.userName,\r\n                    password: $scope.data.password,\r\n                    email: $scope.data.email,\r\n                    role: 'user'\r\n                };\r\n                // $http.post('http://localhost:8080/rest/user/' + JSON.stringify(user)+'');\r\n            }\r\n        }\r\n    }]);\n\n})(window, document);\n"],"sourceRoot":"/source/"}